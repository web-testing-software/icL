% !TeX spellcheck = ru_RU
\section{DSV: CSV и TSV}

{\bf DSV (Delimiter Separated Values, Значения Разделены Разделителем)} представляет собой текстовый файл, содержащий значения в текстовом виде.

{\bf CSV (Comma Separated Values, Значения Разделены Запятыми)} использует запятые в качестве разделителя, формат очень знаменитый и используется часто офисными программами. Больше о нём можете прочитать в интернете.

{\bf TSV (Tab Separated Values, Значения Разделены Символом Табуляции)} более простой, использует символ табуляции в качестве разделителя и используется во веб-приложениях.

icL позволяет делать следующие действия с файлами такого рода:
\begin{icItems}
	\item Загрузить;
	\item Записать;
	\item Вставить;
	\item Синхронизировать.
\end{icItems}

\subsection{Загрузка}

\subsubsection{\lstinline|DSV.load (delimiter : string, f : File, base : set) : set|;}

Возвращает множество содержащая все данные из файла \code{f}. Строка \code{delimiter} должна состоять из одного символа - нужного разделителя. Объект файл можно создать через \lstinline|Files.create (path : string) : File|, если файл не существует, он будет создан, иначе будет открыт.

Параметр \code{base} получает стартовое множество, её заголовок должен быть совместимым с данными файла. Также оно может содержат данные которые тоже будут присутствовать в возвращаемое множество. 

Возможные исключения: \ferror{ParsingFailed}, \ferror{WrongDelimiter} (см. таб. \ref{errors}).

\subsubsection{\lstinline|DSV.loadCSV (f : File, base : set) : File|;}

Акроним для \lstinline|DSV.load "," @f @base|.

\subsubsection{\lstinline|DSV.loadTSV (f : File, base : set) : File|;}

TSV отличается от остальных, файлы обработаются по другому алгоритму, по этому данная функция не имеет эквивалент и не является акронимом.

\subsection{Запись}

\subsubsection{\lstinline|DSV.write (f : File, s : set) : File|;}

Вся содержимое файла будет перезаписано.

\subsection{Вставка}

Содержимое файла не трогается, новые записи записываются в конце файла. За совместимость с предыдущих отвечает пользователь, icL не проверяет предыдущие записи.

\subsubsection{\lstinline|DSV.append (f : File, s : set) : File|;}

Вставит все объект множество \code{s}.

\subsubsection{\lstinline|DSV.append (f : File, obj : object) : File|;}

Вставит отдельный объект \code{obj}.

\subsection{Синхронизация}

\subsubsection{\lstinline|DSV.sync (f : File, s : set) : set|;}

При установке связи синхронизации файл перезаписывается полностью. При добавлениях записей они будут вставлены в конце. При удалении записей файл перезаписывается полностью.

%\newpage
