% !TeX spellcheck = ru_RU
\section{Дополнительные возможности}

{\bf Дополнительные возможности} присутствуют в icL для полного перекрытия стандарта W3C WebDriver и для решения определённых проблем, которые могут появиться при написании скриптов.

Данные возможности не обязательно использовать, так как при запуске скрипта создаётся сессия и открывается новая вкладка, и при остановке сессия закрывается автоматически.

% \subsection{Возможности W3C WebDriver}

\subsection{{\color{orange} Sessions}}

Объект \sessions{} имеет следующие свойства:
\begin{icItems}
	\item \lstinline|[r/o] Sessions'length : int|;
	\item \lstinline|[r/o] Sessions'(<int>i) : Session|.
\end{icItems}

И следующие методы:
\begin{icItems}
	\item \lstinline|Sessions.closeAll : void|;
	\item \lstinline|Sessions.get <int>i : Session|;
	\item \lstinline|Sessions.new : Session|.
\end{icItems}

\subsubsection{\lstinline|[r/o] Sessions'length : int|}

Возвращает количество отрытых сессии.

\subsubsection{\lstinline|[r/o] Sessions'(<int>i) : Session|}

Возвращает \code{i}-ю сессию.

Возможные исключения: \ferror{OutOfBounds}.

\subsubsection{\lstinline|Sessions.closeAll : void|}

Закрывает всех сессий.

\subsubsection{\lstinline|Sessions.get <int>i : Session|}

Возвращает \code{i}-ю сессию.

Возможные исключения: \ferror{OutOfBounds}.

\subsubsection{\lstinline|Sessions.new : Session|}

Отрывает новую сессию.

Возможные исключения: \ferror{SessionNotCreated}.

\subsection{{\color{orange} Session}}

Команда \session{} возвращает указатель на текущей сессии.

Объект \session{} имеет следующие свойства:
\begin{icItems}
	\item \lstinline|[r/w] Session'implicitTimeout : int|;
	\item \lstinline|[r/w] Session'pageLoadTimeout : int|;
	\item \lstinline|[r/w] Session'scriptTimeout : int|;
	\item \lstinline|[r/o] Session'source : string|;
	\item \lstinline|[r/o] Session'title : string|;
	\item \lstinline|[r/w] Session'url : string|.
\end{icItems}

И следующие методы:
\begin{icItems}
	\item \lstinline|Session.back : Session|;
	\item \lstinline|Session.close : void|;
	\item \lstinline|Session.forward : Session|;
	\item \lstinline|Session.refresh : Session|;
	\item \lstinline|Session.screenshot : string|;
	\item \lstinline|Session.switchTo : Session|.
\end{icItems}

\subsubsection{\lstinline|[r/w] Session'implicitTimeout : int|}

Время ожидания в миллисекундах нахождения элемента и перехода элемента в состоянии доступности для взаимодействий с ним. По умолчанию равна нулю.

Возможные исключения: \ferror{NoSessions}, \ferror{InvalidArgument} (значение для установки меньше нуля или больше максимальной безопасной целей значений).

\subsubsection{\lstinline|[r/w] Session'pageLoadTimeout : int|}

Время ожидания загрузке страницы. По умолчанию 300 000 миллисекунд.

Возможные исключения: \ferror{NoSessions}, \ferror{InvalidArgument}.

\subsubsection{\lstinline|[r/w] Session'scriptTimeout : int|}

Время ожидания синхронией выполнения кода на языке Javascript. По умолчанию 30 000 миллисекунд.

Возможные исключения: \ferror{NoSessions}, \ferror{InvalidArgument}.

\subsubsection{\lstinline|[r/o] Session'source : string|}

Исходный код страницы.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}.

\subsubsection{\lstinline|[r/o] Session'title : string|}

Название страницы.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}.

\subsubsection{\lstinline|[r/w] Session'url : string|}

Адрес текущей странице.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}.

\subsubsection{\lstinline|Session.back : Session|}

Переходит на предыдущую страницу, как при нажатии на кнопке браузера "Назад".

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{Timeout}.

\subsubsection{\lstinline|Session.close : void|}

Прекращает сессию. Все вкладки будут закрыты.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSessions}, \ferror{NoSuchSession}.

\subsubsection{\lstinline|Session.forward : Session|}

Вернётся на следующую страницу, как при нажатии на кнопке браузера "Вперёд".

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{Timeout}.

\subsubsection{\lstinline|Session.refresh : Session|}

Перезагружает страницу.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{Timeout}.

\subsubsection{\lstinline|Session.screenshot : string|}

Возвращает скриншот, изображение кодируется в строке base64.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{UnableToCaptureScreen}.

\subsubsection{\lstinline|Session.switchTo : Session|}

Переключает активную сессию.

Возможные исключения: \ferror{NoSuchSession}.

%\subsubsection{}

\subsection{{\color{orange} Windows}}

Объект \windows{} имеет следующие свойства:
\begin{icItems}
	\item \lstinline|[r/o] Windows'length : int|;
	\item \lstinline|[r/o] Windows'(<int>i) : Window|.
\end{icItems}

И следующий метод \lstinline|Windows.get <int>i : Window|.

\subsubsection{\lstinline|[r/o] Windows'length : int|}

Возвращает количество окон в текущей сессии.

Возможные исключения: \ferror{NoSessions}.

\subsubsection{\lstinline|[r/o] Windows'(<int>i) : Window|}

Возвращает \code{i}-е окно.

Возможные исключения: \ferror{NoSessions}, \ferror{OutOfBounds}.

\subsubsection{\lstinline|Windows.get <int>i : Window|}

Возвращает \code{i}-е окно.

Возможные исключения: \ferror{NoSessions}, \ferror{OutOfBounds}.

\subsection{{\color{orange} Window}}

Объект \window{} имеет следующие свойства:
\begin{icItems}
	\item \lstinline|[r/w] Window'height : int|;
	\item \lstinline|[r/w] Window'width : int|;
	\item \lstinline|[r/w] Window'x : int|;
	\item \lstinline|[r/w] Window'y : int|.
\end{icItems}

И следующие методы:
\begin{icItems}
	\item \lstinline|Window.close : void|;
	\item \lstinline|Window.focus : Window|;
	\item \lstinline|Window.fullscreen : Window|;
	\item \lstinline|Window.maximize : Window|;
	\item \lstinline|Window.minimize : Window|;
	\item \lstinline|Window.restore : Window|;
	\item \lstinline|Window.switchToDefault : Window|;
	\item \lstinline|Window.switchToFrame <int>i : Window|;
	\item \lstinline|Window.switchToFrame <element>el : Window|;
	\item \lstinline|Window.switchToParent : Window|.
\end{icItems}

\subsubsection{\lstinline|[r/w] Window'height : int|}

Высота текущей окно в пикселях.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{InvalidArgument}, \ferror{UnsupportedOperation}.

\subsubsection{\lstinline|[r/w] Window'width : int|}

Ширина текущей окно в пикселях.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{InvalidArgument}, \ferror{UnsupportedOperation}.

\subsubsection{\lstinline|[r/w] Window'x : int|}

Координата $x$ текущей окно в пикселях.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{InvalidArgument}, \ferror{UnsupportedOperation}.

\subsubsection{\lstinline|[r/w] Window'y : int|}

Координата $y$ текущей окно в пикселях.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{InvalidArgument}, \ferror{UnsupportedOperation}.

\subsubsection{\lstinline|Window.close : void|}

Закрывает окну, если она последняя закрывается и сессию.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}.

\subsubsection{\lstinline|Window.focus : Window|}

Делает окну активной.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}.

\subsubsection{\lstinline|Window.fullscreen : Window|}

Переключает режим отображения окна на полный экран.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}.

\subsubsection{\lstinline|Window.maximize : Window|}

Распахнет окно.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}.

\subsubsection{\lstinline|Window.minimize : Window|}

Свернёт окно.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}.

\subsubsection{\lstinline|Window.restore : Window|}

Восстановит окно в нормальном режиме.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}.

\subsubsection{\lstinline|Window.switchToDefault : Window|}

Переключает фокус на главный frame.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}.

\subsubsection{\lstinline|Window.switchToFrame <int>i : Window|}

Переключает фокус на frame с индексом \code{i}.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{NoSuchFrame}.

\subsubsection{\lstinline|Window.switchToFrame <element>el : Window|}

Переключает фокус на frame элемента \code{el}. Элемент должен быть обязательно тэгом frame или iframe.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{NoSuchFrame}, \ferror{StaleElementReference}.

\subsubsection{\lstinline|Window.switchToParent : Window|}

Переключает фокус на родительский frame.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}.

\subsection{{\color{orange} Cookies}}

Объект \cookies{} имеет следующее свойство: \lstinline|[r/o] Cookies'<string>name :|\\* \lstinline|Cookie|.

И следующие методы: 
\begin{icItems}
	\item \lstinline|Cookies.deleteAll : void|;
	\item \lstinline|Cookies.get <string>name : Cookie|.
\end{icItems}

\subsubsection{\lstinline|[r/o] Cookies'<string>name : Cookie|}

Возвращает \cookie{} с нужным названием.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{NoSuchCookie}.

\subsubsection{\lstinline|Cookies.deleteAll : void|}

Удаляет всеx существующих cookie.

\subsubsection{\lstinline|Cookies.get <string>name : Cookie|}

Возвращает \cookie{} с нужным названием.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{NoSuchCookie}.

\subsection{{\color{orange} Cookie}}

Объект \cookie{} имеет следующие свойства:
\begin{icItems}
	\item \lstinline|[r/w] Cookie'domain : string|;
	\item \lstinline|[r/w] Cookie'expiry : int|;
	\item \lstinline|[r/w] Cookie'httpOnly : bool|;
	\item \lstinline|[r/w] Cookie'name : string|;
	\item \lstinline|[r/w] Cookie'path : string|;
	\item \lstinline|[r/w] Cookie'secure : bool|;
	\item \lstinline|[r/w] Cookie'value : string|.
\end{icItems}

И следующие методы:
\begin{icItems}
	\item \lstinline|Cookie.add <int>years <int>months <int>days <int>hours = 0 <int>minutes = 0|\\* \lstinline|<int>seconds = 0 : Cookie|;
	\item \lstinline|Cookie.load : Cookie|;
	\item \lstinline|Cookie.resetTime : Cookie|;
	\item \lstinline|Cookie.save : Cookie|.
\end{icItems}

\subsubsection{\lstinline|[r/w] Cookie'domain : string|}

Доменное имя, на которым cookie доступен.

\subsubsection{\lstinline|[r/w] Cookie'expiry : int|}

Время указывающая срок годности cookie. По умолчанию -1, указывает на то что cookie будет удален при окончания сессии.

\subsubsection{\lstinline|[r/w] Cookie'httpOnly : bool|}

Значение по умолчанию - \false.

\subsubsection{\lstinline|[r/w] Cookie'name : string|}

Название, обязательное для заполнения.

\subsubsection{\lstinline|[r/w] Cookie'path : string|}

Значение по умолчанию - \lstinline|"/"|.

\subsubsection{\lstinline|[r/w] Cookie'secure : bool|}

Значение по умолчанию - \false.

\subsubsection{\lstinline|[r/w] Cookie'value : string|}

Значение самого cookie, обязательное для заполнения.

\subsubsection{\lstinline|Cookie.add <int>years <int>months <int>days <int>hours = 0 <int>minutes = 0|\\*\noindent\lstinline|<int>seconds = 0 : Cookie|}

Добавляет к сроку годности ножное количество лет, месяцев, дней, часов, минут и секунд.

\subsubsection{\lstinline|Cookie.load : Cookie|}

Загружает данные о cookie с браузера.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{NoSuchCookie}.

\subsubsection{\lstinline|Cookie.resetTime : Cookie|}

Сбросит строк на текущее время. Например установить срок годности год: \lstinline|Cookie.resetTime.add 1 0 0|.

\subsubsection{\lstinline|Cookie.save : Cookie|}

Сохраняет изменения в браузере.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{InvalidArgument}, \ferror{UnableToSetCookie}, \ferror{InvalidCookieDomain}.

\subsubsection{Создать новый cookie}

На листинге \ref{newcookies}, представлен правильный способ создания новых cookie.

\begin{lstlisting}[caption=Создания новых cookie, label=newcookies]
for any Cookie {
	@'name = "age";
	@'domain = "example.org";
	@'value = 23 : string;
	@.resetTime.add 1 0 0;
	@.save;
};
\end{lstlisting}


\subsection{{\color{orange} Alert}}

Объект \alert{} имеет следующее свойство: \lstinline|[r/o] Alert'text : string|.

И следующие методы:
\begin{icItems}
	\item \lstinline|Alert.accept : void|;
	\item \lstinline|Alert.dismiss : void|;
	\item \lstinline|Alert.sendKeys <string>keys : void|.
\end{icItems}

\subsubsection{\lstinline|[r/o] Alert'text : string|}

Возвращает текст предупреждений.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{NoSuchAlert}.

\subsubsection{\lstinline|Alert.accept : void|}

Принимает предупреждению.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{NoSuchAlert}.

\subsubsection{\lstinline|Alert.dismiss : void|}

Отменяет предупреждению.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{NoSuchAlert}.

\subsubsection{\lstinline|Alert.sendKeys <string>keys : void|}

Заполняет форму текстом \code{keys} и подтверждает ввод.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{NoSuchAlert}, \ferror{ElementNotIn\-teractable}.

% \subsection{Возможности icL}

\subsection{{\color{orange} Tabs}}

Объект \tabs{} имеет следующие свойства:
\begin{icItems}
	\item \lstinline|[r/o] Tabs'current : Tab|;
	\item \lstinline|[r/o] Tabs'first : Tab|;
	\item \lstinline|[r/o] Tabs'last : Tab|;
	\item \lstinline|[r/o] Tabs'length : int|;
	\item \lstinline|[r/o] Tabs'next : Tab|;
	\item \lstinline|[r/o] Tabs'previous : Tab|;
	\item \lstinline|[r/o] Tabs'(<int>i) : Tab|.
	% \item \lstinline|Tabs'|;
\end{icItems}

И следующие методы:
\begin{icItems}
	\item \lstinline|Tabs.close <string>template : int|;
	\item \lstinline|Tabs.close <regex>url : int|;
	\item \lstinline|Tabs.closeByTitle <string>template : int|;
	\item \lstinline|Tabs.closeByTitle <regex>title : int|;
	\item \lstinline|Tabs.closeOthers : int|;
	\item \lstinline|Tabs.closeToLeft : int|;
	\item \lstinline|Tabs.closeToRight : int|;
	\item \lstinline|Tabs.find <string>template : Tab|;
	\item \lstinline|Tabs.find <regex>url : Tab|;
	\item \lstinline|Tabs.findByTitle <string>template : Tab|;
	\item \lstinline|Tabs.findByTitle <regex>title : Tab|.
	% \item \lstinline|Tabs.|;
\end{icItems}

В режиме тестирования вкладки будут в произвольном порядке. В режиме автоматизации в строгом порядке.

\subsubsection{\lstinline|[r/o] Tabs'current : Tab|}

Текущая вкладка.

Возможные исключения: \ferror{NoSessions}.

\subsubsection{\lstinline|[r/o] Tabs'first : Tab|}

Первая вкладка.

Возможные исключения: \ferror{NoSessions}.

\subsubsection{\lstinline|[r/o] Tabs'last : Tab|}

Последняя вкладка.

Возможные исключения: \ferror{NoSessions}.

\subsubsection{\lstinline|[r/o] Tabs'length : int|}

Количество вкладок.

Возможные исключения: \ferror{NoSessions}.

\subsubsection{\lstinline|[r/o] Tabs'next : Tab|}

Следующая вкладка.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchTab}.

\subsubsection{\lstinline|[r/o] Tabs'previous : Tab|}

Предыдущая вкладка.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchTab}.

\subsubsection{\lstinline|[r/o] Tabs'(<int>i) : Tab|}

\code{i}-я вкладка.

Возможные исключения: \ferror{NoSessions}, \ferror{OutOfBounds}.

\subsubsection{\lstinline|Tabs.close <string>template : int|}

Закрывает все вкладки, у которых URL подходит по шаблону. Возвращает количество закрытых вкладок.

Возможные исключения: \ferror{NoSessions}.

\subsubsection{\lstinline|Tabs.close <regex>url : int|}

Закрывает все вкладки, имеющее URL подходящий по регулярному выражению \code{url}. Возвращает количество закрытых вкладок.

Возможные исключения: \ferror{NoSessions}.

\subsubsection{\lstinline|Tabs.closeByTitle <string>template : int|}

Закрывает все вкладки, у которых название подходит по шаблону. Возвращает количество закрытых вкладок.

Возможные исключения: \ferror{NoSessions}.

\subsubsection{\lstinline|Tabs.closeByTitle <regex>title : int|}

Закрывает все вкладки, имеющее название подходяще по регулярному выражению \code{url}. Возвращает количество закрытых вкладок.

Возможные исключения: \ferror{NoSessions}.

\subsubsection{\lstinline|Tabs.closeOthers : int|}

Закрывает все вкладки кроме текущей. Возвращает количество закрытых вкладок.

Возможные исключения: \ferror{NoSessions}.

\subsubsection{\lstinline|Tabs.closeToLeft : int|}

Закрывает все вкладки которые находится с лева от текущей. Возвращает количество закрытых вкладок.

Возможные исключения: \ferror{NoSessions}.

\subsubsection{\lstinline|Tabs.closeToRight : int|}

Закрывает все вкладки которые находится с права от текущей. Возвращает количество закрытых вкладок.

Возможные исключения: \ferror{NoSessions}.

\subsubsection{\lstinline|Tabs.find <string>template : Tab|}

Возвращает первая вкладка, у которой URL подходит по шаблону.

Возможные исключения: \ferror{NoSessions}.

\subsubsection{\lstinline|Tabs.find <regex>url : Tab|}

Возвращает первая вкладка, у которой URL подходит по регулярному выражению.

Возможные исключения: \ferror{NoSessions}.

\subsubsection{\lstinline|Tabs.findByTitle <string>template : Tab|}

Возвращает первая вкладка, у которой название подходит по шаблону.

Возможные исключения: \ferror{NoSessions}.

\subsubsection{\lstinline|Tabs.findByTitle <regex>title : Tab|}

Возвращает первая вкладка, у которой название подходит по регулярному выражению.

Возможные исключения: \ferror{NoSessions}.

\subsection{{\color{orange} Tab}}

Объект \tab{} имеет следующие свойства:
\begin{icItems}
	\item \lstinline|[icL] [r/o] Tab'canGoBack : bool|;
	\item \lstinline|[icL] [r/o] Tab'canGoForward : bool|;
	\item \lstinline|[r/o] Tab'screenshot : string|;
	\item \lstinline|[r/o] Tab'source : string|;
	\item \lstinline|[r/*] Tab'title|;
	\item \lstinline|[r/w] Tab'url|.
\end{icItems}

И следующие методы:
\begin{icItems}
	\item \lstinline|Tab.back : void|;
	\item \lstinline|Tab.close : void|;
	\item \lstinline|Tab.focus : void|;
	\item \lstinline|Tab.forward : void|;
	\item \lstinline|Tab.get <string>url : bool|.
\end{icItems}

\subsubsection{\lstinline|[icL] [r/o] Tab'canGoBack : bool|}

Возвращает \true, если можно вернутся на предыдущую страницу, иначе \false.

\subsubsection{\lstinline|[icL] [r/o] Tab'canGoForward : bool|}

Возвращает \true, если можно вернутся на следующую страницу, иначе \false.

\subsubsection{\lstinline|[r/o] Tab'screenshot : string|}

Возвращает скриншот вкладки, кодирован в base64.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{UnableToCaptureScreen}.

\subsubsection{\lstinline|[r/o] Tab'source : string|}

Исходник страницы, открытой в указанной вкладке.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}.

\subsubsection{\lstinline|[r/*] Tab'title|}

Название страницы, открытой в указанной вкладке.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}.

\subsubsection{\lstinline|[r/w] Tab'url|}

URL страницы, открытой в указанной вкладке.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}.

\subsubsection{\lstinline|Tab.back : void|}

Переходит на предыдущую страницу, как при нажатии на кнопке браузера "Назад".

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{Timeout}.

\subsubsection{\lstinline|Tab.close : void|}

Закрывает окну, если она последняя закрывается и сессию.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}.

\subsubsection{\lstinline|Tab.focus : void|}

Переключает фокус на вкладку. Фокус можно менять только внутри активной сессии.

Возможные исключения: \ferror{NoSessions}.

\subsubsection{\lstinline|Tab.forward : void|}

Вернётся на следующую страницу, как при нажатии на кнопке браузера "Вперёд".

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{Timeout}.

\subsubsection{\lstinline|Tab.get <string>url : bool|}

Загружает страницу, URL должен быть абсолютным. Возвращает \true{} при удачной загрузке, иначе \false.

\subsubsection{\lstinline|Tab.load <string>url : void|}

Загружает страницу, URL должен быть абсолютным. При неудаче генерирует ошибку.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{InvalidArgument}, \ferror{Timeout}, \ferror{InsecureCertificate}.

\subsection{{\color{orange} DOM}}

Объект \dom{} имеет следующие методы:
\begin{icItems}
	\item \lstinline|DOM.query <int>by <string>selector : element|;
	\item \lstinline|DOM.query <string>cssSelector : element|;
	\item \lstinline|DOM.queryAll <int>by <string>selecor : element|;
	\item \lstinline|DOM.queryAll <string>cssSelector : lement|;
	\item \lstinline|DOM.queryAllByXPath <string>xpath : element|;
	\item \lstinline|DOM.queryByXPath <string>xpath : element|;
	\item \lstinline|DOM.queryLink <string>name <bool>isFragment = false : element|;
	\item \lstinline|DOM.queryLinks <string>name <bool>isFragment = false : element|;
	\item \lstinline|DOM.queryTag <string>name : element|;
	\item \lstinline|DOM.queryTags <string>name : element|.
\end{icItems}

\subsubsection{\lstinline|DOM.query <int>by <string>selector : element|}

Принимает то же самые параметры, как и \lstinline|element.query|, только поиск ведётся по всему документу.

Возможные исключения: \ferror{NoSessions}, \ferror{Timeout}.

\subsubsection{\lstinline|DOM.query <string>cssSelector : element|}

Акроним для \lstinline|DOM.query By'cssSelector @cssSelector|.

\subsubsection{\lstinline|DOM.queryAll <int>by <string>selecor : element|}

Принимает то же самые параметры, как и \lstinline|element.queryAll|, только поиск ведётся по всему документу.

Возможные исключения: \ferror{NoSessions}.

\subsubsection{\lstinline|DOM.queryAll <string>cssSelector : lement|}

Акроним для \lstinline|DOM.queryAll By'cssSelector @cssSelector|.

\subsubsection{\lstinline|DOM.queryAllByXPath <string>xpath : element|}

Акроним для \lstinline|DOM.queryAll By'xPath @xpath|.

\subsubsection{\lstinline|DOM.queryByXPath <string>xpath : element|}

Акроним для \lstinline|DOM.query By'xPath @xpath|.

\subsubsection{\lstinline|DOM.queryLink <string>name <bool>isFragment = false : element|}

Акроним для:
\begin{icItems}
	\item \lstinline|DOM.query By'linkText @name|;
	\item \lstinline|DOM.query By'partialLinkText @name|;
\end{icItems}

\subsubsection{\lstinline|DOM.queryLinks <string>name <bool>isFragment = false : element|}

Акроним для:
\begin{icItems}
	\item \lstinline|DOM.queryAll By'linkText @name|;
	\item \lstinline|DOM.queryAll By'partialLinkText @name|;
\end{icItems}

\subsubsection{\lstinline|DOM.queryTag <string>name : element|}

Акроним для \lstinline|DOM.query By'tagName @name|.

\subsubsection{\lstinline|DOM.queryTags <string>name : element|}

Акроним для \lstinline|DOM.queryAll By'tagName @name|.

\subsection{{\color{orange} Files}}

Объект \files{} имеет следующие методы:
\begin{icItems}
	\item \lstinline|Files.open <string>path : File|;
	\item \lstinline|Files.create <string>path : File|;
	\item \lstinline|Files.createDir <string>path : void|;
	\item \lstinline|Files.createPath <string>path : void|.
\end{icItems}

\subsubsection{\lstinline|Files.open <string>path : File|}

Открывает файл.

Возможные исключения: \ferror{FileNotFound}.

\subsubsection{\lstinline|Files.create <string>path : File|}

Открывает файл, если он не существует, он создаётся.

Возможные исключения: \ferror{FolderNotFound}.

\subsubsection{\lstinline|Files.createDir <string>path : void|}

Создаёт папку, папка в которым она создаётся должна уже существовать.

Возможные исключения: \ferror{FolderNotFound}.

\subsubsection{\lstinline|Files.createPath <string>path : void|}

Создаёт все несуществующие папки пути.

\subsection{{\color{orange} File}}

Объект \file{} имеет следующие свойства:
\begin{icItems}
	\item \lstinline|[r/o] File'CSV : 1|;
	\item \lstinline|[r/w] File'format : int|;
	\item \lstinline|[r/o] File'none : 0|;
	\item \lstinline|[r/o] File'TSV : 2|;
	\item \lstinline|[r/o] File'valid : bool|.
\end{icItems}

И следующие методы:
\begin{icItems}
	\item \lstinline|File.close : void|;
	\item \lstinline|File.delete : void|.
\end{icItems}

\subsubsection{\lstinline|[r/o] File'CSV : 1|}

Формат CSV.

\subsubsection{\lstinline|[r/w] File'format : int|}

Возвращает формат файла.

\subsubsection{\lstinline|[r/o] File'none : 0|}

Не инициализированный файл.

\subsubsection{\lstinline|[r/o] File'TSV : 2|}

Формат TSV.

\subsubsection{\lstinline|[r/o] File'valid : bool|}

Возвращает \true, если файл инициализированный, иначе \false.

\subsubsection{\lstinline|File.close : void|}

Закрывает файл.

\subsubsection{\lstinline|File.delete : void|}

Удаляет файл.

\subsection{{\color{orange} Make}}

Объект \make{} имеет следующие методы:
\begin{icItems}
	\item \lstinline|Make.image <string>base64 <string>path : void|;
	\item \lstinline|Make.int <string>str <int>base : int|;
	\item \lstinline|Make.list <set>s : list|;
	\item \lstinline|Make.object <string>json : object|;
	\item \lstinline|Make.regex <string>pattern : regex|;
	\item \lstinline|Make.string <bool>b : string|;
	\item \lstinline|Make.string <double>d : string|;
	\item \lstinline|Make.string <int>number <int>base : string|;
	\item \lstinline|Make.string <object>obj : string|;
	\item \lstinline|Make.string <set>s : string|.
\end{icItems}

\subsubsection{\lstinline|Make.image <string>base64 <string>path : void|}

Сохраняет скриншот на жёстком диске.

\subsubsection{\lstinline|Make.int <string>str <int>base : int|}

Парсит целое число в виде строки в нужном базисе.

Возможные исключения: \ferror{ParsingFailed}.

\subsubsection{\lstinline|Make.list <set>s : list|}

Акроним для \lstinline|set : list|.

\subsubsection{\lstinline|Make.object <string>json : object|}

Акроним для \lstinline|object : string|.

\subsubsection{\lstinline|Make.regex <string>pattern : regex|}

Создаёт регулярное выражение на основе паттерна.

\subsubsection{\lstinline|Make.string <bool>b : string|}

Возвращает \lstinline|"true"|, если \lstinline|b == true|, иначе \lstinline|"false"|.

\subsubsection{\lstinline|Make.string <double>d : string|}

Акроним для \lstinline|double : string|.

\subsubsection{\lstinline|Make.string <int>number <int>base : string|}

Возвращает представления числа в заданном базисе.

\subsubsection{\lstinline|Make.string <object>obj : string|}

Акроним для \lstinline|object : string|.

\subsubsection{\lstinline|Make.string <set>s : string|}

Акроним для \lstinline|set : string|.

\subsection{{\color{orange} Log}}

Объект \logtype{} имеет следующие методы:
\begin{icItems}
	\item \lstinline|Log.error <string>message : void|;
	\item \lstinline|Log.info <string>message : void|;
	\item \lstinline|Log.out <any ...>args : void|;
	\item \lstinline|Log.stack <any>var : void|;
	\item \lstinline|Log.state <any>var : void|.
\end{icItems}

\subsubsection{\lstinline|Log.error <string>message : void|}

Выводит сообщение об ошибке.

\subsubsection{\lstinline|Log.info <string>message : void|}

Выводит информационное сообщение.

\subsubsection{\lstinline|Log.out <any ...>args : void|}

Выводит отладочное сообщение, принимает несколько параметров любого типа. При получении переменных выводит исходник, название перемены, тип данных и значение. При получении константных только значение. При получении результата выполнения функции - тип и значение. 

\subsubsection{\lstinline|Log.stack <any>var : void|}

Выводит список всех стеков, указывая в каких из них встречается переменная с указанным именем, и какие значения имеются.

\subsubsection{\lstinline|Log.state <any>var : void|}

Выводит список всех состояний, указывая в каких из них встречается переменная с указанным именем, и какие значения имеются.

\subsection{{\color{orange} Numbers}}

Объект \numbers{} имеет следующие свойства:
\begin{icItems}
	\item \lstinline|[r/o] Numbers'max : 4|;
	\item \lstinline|[r/o] Numbers'min : 3|;
	\item \lstinline|[r/o] Numbers'product : 2|;
	\item \lstinline|[r/o] Numbers'process : int|;
	\item \lstinline|[r/o] Numbers'sum : 1|.
\end{icItems}

И следующие методы:
\begin{icItems}
	\item \lstinline|Numbers.process <int>a <int>b : int|;
	\item \lstinline|Numbers.process <double>a <double>b : double|;
	\item \lstinline|Numbers.restoreProcess : void|;
	\item \lstinline|Numbers.setProcess <int>proc : void|.
\end{icItems}

\subsubsection{\lstinline|[r/o] Numbers'max : 4|}

Выбирать максимум.

\subsubsection{\lstinline|[r/o] Numbers'min : 3|}

Выбирать минимум.

\subsubsection{\lstinline|[r/o] Numbers'product : 2|}

Умножить числа.

\subsubsection{\lstinline|[r/o] Numbers'process : int|}

Текущий способ обработки чисел.

\subsubsection{\lstinline|[r/o] Numbers'sum : 1|}

Складывать числа.

\subsubsection{\lstinline|Numbers.process <int>a <int>b : int|}

Обработать целых чисел текущим методом.

\subsubsection{\lstinline|Numbers.process <double>a <double>b : double|}

Обработать дробных чисел текучим методом.

\subsubsection{\lstinline|Numbers.restoreProcess : void|}

Удаляет последняя запись стека способов обработки.

\subsubsection{\lstinline|Numbers.setProcess <int>proc : void|}

Добавляет новая запись в стеке способов обработки.

\subsection{{\color{orange} Math}}

Объект \lstinline|Math| имеет следующие свойства:
\begin{icItems}
	\item \lstinline|[r/o] Math'1divPi : double|;
	\item \lstinline|[r/o] Math'1divSqrt2 : double|;
	\item \lstinline|[r/o] Math'2divPi : double|;
	\item \lstinline|[r/o] Math'2divSqrtPi : double|;
	\item \lstinline|[r/o] Math'e : double|;
	\item \lstinline|[r/o] Math'ln2 : double|;
	\item \lstinline|[r/o] Math'ln10 : double|;
	\item \lstinline|[r/o] Math'log2e : double|;
	\item \lstinline|[r/o] Math'log10e : double|;
	\item \lstinline|[r/o] Math'pi : double|;
	\item \lstinline|[r/o] Math'piDiv2 : double|;
	\item \lstinline|[r/o] Math'piDiv4 : double|;
	\item \lstinline|[r/o] Math'sqrt2 : double|.
\end{icItems}

И следующие методы:
\begin{icItems}
	\item \lstinline|Math.acos <double>v : double|;
	\item \lstinline|Math.asin <double>v : double|;
	\item \lstinline|Math.atan <double>v : double|;
	\item \lstinline|Math.ceil <double>v : int|;
	\item \lstinline|Math.cos <double>v : double|;
	\item \lstinline|Math.degreesToRadians <double>v : double|;
	\item \lstinline|Math.exp <double>v : double|;
	\item \lstinline|Math.floor <double>v : int|;
	\item \lstinline|Math.ln <double>v : double|;
	\item \lstinline|Math.min <int ...>arr : int|;
	\item \lstinline|Math.min <double ...>arr : double|;
	\item \lstinline|Math.max <int ...>arr : int|;
	\item \lstinline|Math.max <double ...>arr : double|;
	\item \lstinline|Math.radiansToDegrees <double>v : double|;
	\item \lstinline|Math.round <double> : int|;
	\item \lstinline|Math.sin <double>v : double|;
	\item \lstinline|Math.tan <double>v : double|.
\end{icItems}

\subsubsection{\lstinline|[r/o] Math'1divPi : double|}

1 делить на пи ($\frac{1}{\pi}$).

\subsubsection{\lstinline|[r/o] Math'1divSqrt2 : double|}

1 делить на корень из числа 2 ($\frac{1}{\sqrt{2}}$).

\subsubsection{\lstinline|[r/o] Math'2divPi : double|}

2 делить на пи ($\frac{2}{\pi}$).

\subsubsection{\lstinline|[r/o] Math'2divSqrtPi : double|}

2 делить на корень из числа пи ($\frac{2}{\sqrt{\pi}}$).

\subsubsection{\lstinline|[r/o] Math'e : double|}

Число ($e$).

\subsubsection{\lstinline|[r/o] Math'ln2 : double|}

Натуральный логарифм числа 2 ($\ln{2}$).

\subsubsection{\lstinline|[r/o] Math'ln10 : double|}

Натуральный логарифм числа 10 ($\ln_{10}$).

\subsubsection{\lstinline|[r/o] Math'log2e : double|}

Логарифм числа е по основанию 2 ($\log_{2}{e}$).

\subsubsection{\lstinline|[r/o] Math'log10e : double|}

Логарифм числа е по основанию 10 ($\log_{10}{e}$).

\subsubsection{\lstinline|[r/o] Math'pi : double|}

Число пи ($\pi$).

\subsubsection{\lstinline|[r/o] Math'piDiv2 : double|}

Пи по полам ($\frac{\pi}{2}$).

\subsubsection{\lstinline|[r/o] Math'piDiv4 : double|}

Пи на 4 ($\frac{\pi}{4}$).

\subsubsection{\lstinline|[r/o] Math'sqrt2 : double|}

Корень из числа 2 ($\sqrt{2}$).

\subsubsection{\lstinline|Math.acos <double>v : double|}

Арккосинус ($\arccos{v}$).

\subsubsection{\lstinline|Math.asin <double>v : double|}

Арксинус ($\arcsin{v}$).

\subsubsection{\lstinline|Math.atan <double>v : double|}

Арктангенс ($\arctan{v}$).

\subsubsection{\lstinline|Math.ceil <double>v : int|}

Наименьшее целое число больше или равна \code{v}.

\subsubsection{\lstinline|Math.cos <double>v : double|}

Косинус ($\cos{v}$).

\subsubsection{\lstinline|Math.degreesToRadians <double>v : double|}

Преобразует градусы в радианы.

\subsubsection{\lstinline|Math.exp <double>v : double|}

Функция экспонент ($\exp{v}$).

\subsubsection{\lstinline|Math.floor <double>v : int|}

Наибольшее целое число меньше или равна \code{v}.

\subsubsection{\lstinline|Math.ln <double>v : double|}

Натуральный логарифм ($\ln{v}$).

\subsubsection{\lstinline|Math.min <int ...>arr : int|}

Возвращает наименьшее целое число.

\subsubsection{\lstinline|Math.min <double ...>arr : double|}

Возвращает наименьшее дробное число.

\subsubsection{\lstinline|Math.max <int ...>arr : int|}

Возвращает наибольшее целое число.

\subsubsection{\lstinline|Math.max <double ...>arr : double|}

Возвращает наибольшее дробное число.

\subsubsection{\lstinline|Math.radiansToDegrees <double>v : double|}

Преобразует радианы в градусы.

\subsubsection{\lstinline|Math.round <double> : int|}

Возвращает ближайшее целое число.

\subsubsection{\lstinline|Math.sin <double>v : double|}

Синус ($\sin{v}$).

\subsubsection{\lstinline|Math.tan <double>v : double|}

Тангенс ($\tan{v}$).

\subsection{{\color{orange} Import}}

Объект \lstinline|Import| имеет следующие методы:
\begin{icItems}
	\item \lstinline|Import.none <object>data <string>path : void|;
	\item \lstinline|Import.none <string>path : void|;
	\item \lstinline|Import.functions <object>data <string>path : void|;
	\item \lstinline|Import.functions <string>path : void|;
	\item \lstinline|Import.all <object>data <string>path : void|;
	\item \lstinline|Import.all <string>path : void|;
	\item \lstinline|Import.run <string>path : void|.
\end{icItems}

Объект \code{data} позволяет передать данные в изолированном контексте, они там будут доступны как глобальные переменные. Это позволяет в одном файле хранить несколько версий библиотеки например, и при использовании указать какую версию загрузить.

\subsubsection{\lstinline|Import.none <object>data <string>path : void|}

Создаёт изолируемый контекст, в нём выполняет файл.

\subsubsection{\lstinline|Import.none <string>path : void|}

Акроним для \lstinline|Import.none [<>] @path|.

\subsubsection{\lstinline|Import.functions <object>data <string>path : void|}

Создаёт изолируемый контекст, в нём выполняет файл, потом импортирует все функции в текущем контексте.

\subsubsection{\lstinline|Import.functions <string>path : void|}

Акроним для \lstinline|Import.functions [<>] @path|.

\subsubsection{\lstinline|Import.all <object>data <string>path : void|}

Создаёт изолируемый контекст, в нём выполняет файл, потом импортирует все функции и глобальные переменный в текущем контексте.

\subsubsection{\lstinline|Import.all <string>path : void|}

Акроним для \lstinline|Import.all [<>] @path|.

\subsubsection{\lstinline|Import.run <string>path : void|}

Выполняет файл в текущем контексте.

\subsection{Модификатор {\color{blue2} reverse}}

Ключевое слово \code{reverse} позволяет изменить ход выполнения некоторых конструкций языка.

\subsubsection{\lstinline|reverse if|}

\lstinline|reverse if (@var == true)| эквивалентно \lstinline|if (!(@var == true))|, в этом случае уменьшения количестве скобок упрощает чтения кода. 

Внимание: \lstinline|reverse if| не принимает \lstinline|else|.

\subsubsection{\lstinline|reverse if exists|}

\lstinline|if exists| хорош тем что позволяет выполнить код только когда есть нужные данные. А что если нам нужно генерировать исключение когда нужные данные отсутствуют? Эту проблему решает \lstinline|reverse if exists|. В сравнении с \lstinline|if exists|, никакие данные не будут переданы в блоке команд.

\subsubsection{\lstinline|reverse for| - универсальный цикл}

В универсальном цикле меняется порядок выполнения действий. \lstinline|reverse for| гарантирует выполнение блока команд в минимум один раз.

Порядок действий конструкций \lstinline|for|:
\begin{icEnum}
	\item инициализация;
	\item проверка условий;
	\item выполнения блока команд;
	\item выполнения команды перехода на следующую итерацию.
\end{icEnum}

Порядок действий конструкций \lstinline|reverse for|:
\begin{icEnum}
	\item инициализация;
	\item выполнения блока команд;
	\item выполнения команды перехода на следующую итерацию;
	\item проверка условий.
\end{icEnum}

\subsubsection{\lstinline|reverse while| - условное повторение кода}

\lstinline|reverse while| будет выполнить блок команд, пока условие остаётся ложной.

\subsubsection{\lstinline|do reverse while| - цикл с постусловий}

\lstinline|reverse while| будет выполнить блок команд, пока условие остаётся ложной. Так же как и \lstinline|do while| гарантирует что тело цикла будет выполнена минимум 1 раз.

\subsubsection{\lstinline|reverse for| - прохождение коллекций}

\lstinline|reverse for| будет пройти коллекцию в обратном порядке.

\subsubsection{\lstinline|reverse filter| - выборочное прохождение коллекций}

\lstinline|reverse filter| будет пройти коллекцию в обратном порядке.

\subsubsection{\lstinline|reverse range| - частичное прохождение коллекций}

\lstinline|reverse filter| будет пройти интервал в обратном порядке.

%\newpage
