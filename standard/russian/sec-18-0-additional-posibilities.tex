% !TeX spellcheck = ru_RU
\input{part-02-0-programmers}

\section{Дополнительные возможности}

{\bf Дополнительные возможности} присутствуют в icL для полного перекрытия стандарта W3C WebDriver и для решения определённых проблем, которые могут появиться при написании скриптов.

Данные возможности не обязательно использовать, так как при запуске скрипта создаётся сессия и открывается новая вкладка, и при остановке сессия закрывается автоматически.

% \subsection{Возможности W3C WebDriver}

\subsection{{\color{orange} Sessions}}

Объект \sessions{} имеет следующие свойства:
\begin{icItems}
	\item \lstinline|[r/o] Sessions'length : int|;
	\item \lstinline|[r/o] Sessions'(i : int) : Session|.
\end{icItems}

И следующие методы:
\begin{icItems}
	\item \lstinline|Sessions.closeAll () : void|;
	\item \lstinline|Sessions.get (i : int) : Session|;
	\item \lstinline|Sessions.new () : Session|.
\end{icItems}

\subsubsection{\lstinline|[r/o] Sessions'length : int|}

Возвращает количество отрытых сессии.

\subsubsection{\lstinline|[r/o] Sessions'(i : int) : Session|}

Возвращает \code{i}-ю сессию.

Возможные исключения: \ferror{OutOfBounds} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Sessions.closeAll () : void|}

Закрывает всех сессий.

\subsubsection{\lstinline|Sessions.get (i : int) : Session|}

Возвращает \code{i}-ю сессию.

Возможные исключения: \ferror{OutOfBounds} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Sessions.new () : Session|}

Отрывает новую сессию.

Возможные исключения: \ferror{SessionNotCreated} (см. таб. \ref{errors}).

\subsection{{\color{orange} Session}}

Команда \session{} возвращает указатель на текущую сессию.

Объект \session{} имеет следующие свойства:
\begin{icItems}
	\item \lstinline|[r/w] Session'implicitTimeout : int|;
	\item \lstinline|[r/w] Session'pageLoadTimeout : int|;
	\item \lstinline|[r/w] Session'scriptTimeout : int|;
	\item \lstinline|[r/o] Session'source : string|;
	\item \lstinline|[r/o] Session'title : string|;
	\item \lstinline|[r/w] Session'url : string|.
\end{icItems}

И следующие методы:
\begin{icItems}
	\item \lstinline|Session.back () : Session|;
	\item \lstinline|Session.close () : void|;
	\item \lstinline|Session.forward () : Session|;
	\item \lstinline|Session.refresh () : Session|;
	\item \lstinline|Session.screenshot () : string|;
	\item \lstinline|Session.switchTo () : Session|.
\end{icItems}

\subsubsection{\lstinline|[r/w] Session'implicitTimeout : int|}

Время ожидания в миллисекундах нахождения элемента и перехода элемента в состоянии доступности для взаимодействий с ним. По умолчанию равна нулю.

Возможные исключения: \ferror{NoSessions}, \ferror{InvalidArgument} (значение для установки меньше нуля или больше максимальной безопасной целей значений) см. таб. \ref{errors}.

\subsubsection{\lstinline|[r/w] Session'pageLoadTimeout : int|}

Время ожидания загрузке страницы. По умолчанию 300 000 миллисекунд.

Возможные исключения: \ferror{NoSessions}, \ferror{InvalidArgument} (см. таб. \ref{errors}).

\subsubsection{\lstinline|[r/w] Session'scriptTimeout : int|}

Время ожидания синхронией выполнения кода на языке Javascript. По умолчанию 30 000 миллисекунд.

Возможные исключения: \ferror{NoSessions}, \ferror{InvalidArgument} (см. таб. \ref{errors}).

\subsubsection{\lstinline|[r/o] Session'source : string|}

Исходный код страницы.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow} (см. таб. \ref{errors}).

\subsubsection{\lstinline|[r/o] Session'title : string|}

Название страницы.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow} (см. таб. \ref{errors}).

\subsubsection{\lstinline|[r/w] Session'url : string|}

Адрес текущей странице.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Session.back () : Session|}

Переходит на предыдущую страницу, как при нажатии на кнопке браузера "Назад".

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{Timeout} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Session.close () : void|}

Прекращает сессию. Все вкладки будут закрыты.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSessions}, \ferror{NoSuchSession} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Session.forward () : Session|}

Вернётся на следующую страницу, как при нажатии на кнопке браузера "Вперёд".

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{Timeout} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Session.refresh () : Session|}

Перезагружает страницу.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{Timeout} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Session.screenshot () : string|}

Возвращает скриншот, изображение кодируется в строке base64.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{UnableToCaptureScreen} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Session.switchTo () : Session|}

Переключает активную сессию.

Возможные исключения: \ferror{NoSuchSession} (см. таб. \ref{errors}).

%\subsubsection{}

\subsection{{\color{orange} Windows}}

Объект \windows{} имеет следующие свойства:
\begin{icItems}
	\item \lstinline|[r/o] Windows'length : int|;
	\item \lstinline|[r/o] Windows'(i : int) : Window|.
\end{icItems}

И следующий метод \lstinline|Windows.get (i : int) : Window|.

\subsubsection{\lstinline|[r/o] Windows'length : int|}

Возвращает количество окон в текущей сессии.

Возможные исключения: \ferror{NoSessions} (см. таб. \ref{errors}).

\subsubsection{\lstinline|[r/o] Windows'(i : int) : Window|}

Возвращает \code{i}-е окно.

Возможные исключения: \ferror{NoSessions}, \ferror{OutOfBounds} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Windows.get (i : int) : Window|}

Возвращает \code{i}-е окно.

Возможные исключения: \ferror{NoSessions}, \ferror{OutOfBounds} (см. таб. \ref{errors}).

\subsection{{\color{orange} Window}}

Объект \window{} имеет следующие свойства:
\begin{icItems}
	\item \lstinline|[r/w] Window'height : int|;
	\item \lstinline|[r/w] Window'width : int|;
	\item \lstinline|[r/w] Window'x : int|;
	\item \lstinline|[r/w] Window'y : int|.
\end{icItems}

И следующие методы:
\begin{icItems}
	\item \lstinline|Window.close () : void|;
	\item \lstinline|Window.focus () : Window|;
	\item \lstinline|Window.fullscreen () : Window|;
	\item \lstinline|Window.maximize () : Window|;
	\item \lstinline|Window.minimize () : Window|;
	\item \lstinline|Window.restore () : Window|;
	\item \lstinline|Window.switchToDefault () : Window|;
	\item \lstinline|Window.switchToFrame (i : int) : Window|;
	\item \lstinline|Window.switchToFrame (el : element) : Window|;
	\item \lstinline|Window.switchToParent () : Window|.
\end{icItems}

\subsubsection{\lstinline|[r/w] Window'height : int|}

Высота текущей окно в пикселях.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{InvalidArgument}, \ferror{UnsupportedOperation} (см. таб. \ref{errors}).

\subsubsection{\lstinline|[r/w] Window'width : int|}

Ширина текущей окно в пикселях.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{InvalidArgument}, \ferror{UnsupportedOperation} (см. таб. \ref{errors}).

\subsubsection{\lstinline|[r/w] Window'x : int|}

Координата $x$ текущей окно в пикселях.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{InvalidArgument}, \ferror{UnsupportedOperation} (см. таб. \ref{errors}).

\subsubsection{\lstinline|[r/w] Window'y : int|}

Координата $y$ текущей окно в пикселях.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{InvalidArgument}, \ferror{UnsupportedOperation} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Window.close () : void|}

Закрывает окну, если она последняя закрывается и сессию.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Window.focus () : Window|}

Делает окно активным.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Window.fullscreen () : Window|}

Переключает режим отображения окна на полный экран.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Window.maximize () : Window|}

Распахнет окно.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Window.minimize () : Window|}

Свернёт окно.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Window.restore () : Window|}

Восстановит окно в нормальном режиме.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Window.switchToDefault () : Window|}

Переключает фокус на главный frame.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Window.switchToFrame (i : int) : Window|}

Переключает фокус на frame с индексом \code{i}.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{NoSuchFrame} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Window.switchToFrame (el : element) : Window|}

Переключает фокус на frame элемента \code{el}. Элемент должен быть обязательно тэгом frame или iframe.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{NoSuchFrame}, \ferror{StaleElementReference} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Window.switchToParent () : Window|}

Переключает фокус на родительский frame.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow} (см. таб. \ref{errors}).

\subsection{{\color{orange} Cookies}}

Объект \cookies{} имеет следующее свойство: \lstinline|[r/o] Cookies'name : string :|\\* \lstinline|Cookie|.

И следующие методы: 
\begin{icItems}
	\item \lstinline|Cookies.deleteAll () : void|;
	\item \lstinline|Cookies.get (name : string) : Cookie|.
\end{icItems}

\subsubsection{\lstinline|[r/o] Cookies'name : string : Cookie|}

Возвращает \cookie{} с нужным названием.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{NoSuchCookie} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Cookies.deleteAll () : void|}

Удаляет все существующие cookie.

\subsubsection{\lstinline|Cookies.get (name : string) : Cookie|}

Возвращает \cookie{} с нужным названием.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{NoSuchCookie} (см. таб. \ref{errors}).

\subsection{{\color{orange} Cookie}}

Объект \cookie{} имеет следующие свойства:
\begin{icItems}
	\item \lstinline|[r/w] Cookie'domain : string|;
	\item \lstinline|[r/w] Cookie'expiry : int|;
	\item \lstinline|[r/w] Cookie'httpOnly : bool|;
	\item \lstinline|[r/w] Cookie'name : string|;
	\item \lstinline|[r/w] Cookie'path : string|;
	\item \lstinline|[r/w] Cookie'secure : bool|;
	\item \lstinline|[r/w] Cookie'value : string|.
\end{icItems}

И следующие методы:
\begin{icItems}
	\item \lstinline|Cookie.add (years : int, months : int, days : int, hours = 0, minutes = 0|\\*, \lstinline|seconds = 0) : Cookie|;
	\item \lstinline|Cookie.load () : Cookie|;
	\item \lstinline|Cookie.resetTime () : Cookie|;
	\item \lstinline|Cookie.save () : Cookie|.
\end{icItems}

\subsubsection{\lstinline|[r/w] Cookie'domain : string|}

Доменное имя, на которым cookie доступен.

\subsubsection{\lstinline|[r/w] Cookie'expiry : int|}

Время указывающая срок годности cookie. По умолчанию -1, указывает на то что cookie будет удален при окончания сессии.

\subsubsection{\lstinline|[r/w] Cookie'httpOnly : bool|}

Значение по умолчанию - \false.

\subsubsection{\lstinline|[r/w] Cookie'name : string|}

Название, обязательное для заполнения.

\subsubsection{\lstinline|[r/w] Cookie'path : string|}

Значение по умолчанию - \lstinline|"/"|.

\subsubsection{\lstinline|[r/w] Cookie'secure : bool|}

Значение по умолчанию - \false.

\subsubsection{\lstinline|[r/w] Cookie'value : string|}

Значение самого cookie, обязательное для заполнения.

\subsubsection{\lstinline|Cookie.add (years : int, months : int, days : int, hours = 0, minutes = 0|\\*\noindent\lstinline|seconds = 0) : Cookie|}

Добавляет к сроку годности ножное количество лет, месяцев, дней, часов, минут и секунд.

\subsubsection{\lstinline|Cookie.load () : Cookie|}

Загружает данные о cookie с браузера.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{NoSuchCookie} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Cookie.resetTime () : Cookie|}

Сбросит строк на текущее время. Например установить срок годности год: \lstinline|Cookie.resetTime().add 1 0 0|.

\subsubsection{\lstinline|Cookie.save () : Cookie|}

Сохраняет изменения в браузере.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{InvalidArgument}, \ferror{UnableToSetCookie}, \ferror{InvalidCookieDomain} (см. таб. \ref{errors}).

\subsubsection{Создать новый cookie}

На листинге \ref{newcookies}, представлен правильный способ создания новых cookie.

\begin{lstlisting}[caption=Создания новых cookie, label=newcookies]
for any Cookie {
	@'name = "age";
	@'domain = "example.org";
	@'value = 23 : string;
	@.resetTime().add(1, 0, 0);
	@.save;
};
\end{lstlisting}


\subsection{{\color{orange} Alert}}

Объект \alert{} имеет следующее свойство: \lstinline|[r/o] Alert'text : string|.

И следующие методы:
\begin{icItems}
	\item \lstinline|Alert.accept () : void|;
	\item \lstinline|Alert.dismiss () : void|;
	\item \lstinline|Alert.sendKeys (keys : string) : void|.
\end{icItems}

\subsubsection{\lstinline|[r/o] Alert'text : string|}

Возвращает текст предупреждений.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{NoSuchAlert} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Alert.accept () : void|}

Принимает предупреждению.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{NoSuchAlert} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Alert.dismiss () : void|}

Отменяет предупреждению.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{NoSuchAlert} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Alert.sendKeys (keys : string) : void|}

Заполняет форму текстом \code{keys} и подтверждает ввод.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{NoSuchAlert}, \ferror{ElementNotIn\-teractable} (см. таб. \ref{errors}).

% \subsection{Возможности icL}

\subsection{{\color{orange} Tabs}}

Объект \tabs{} имеет следующие свойства:
\begin{icItems}
	\item \lstinline|[r/o] Tabs'current : Tab|;
	\item \lstinline|[r/o] Tabs'first : Tab|;
	\item \lstinline|[r/o] Tabs'last : Tab|;
	\item \lstinline|[r/o] Tabs'length : int|;
	\item \lstinline|[r/o] Tabs'next : Tab|;
	\item \lstinline|[r/o] Tabs'previous : Tab|;
	\item \lstinline|[r/o] Tabs'(i : int) : Tab|.
	% \item \lstinline|Tabs'|;
\end{icItems}

И следующие методы:
\begin{icItems}
	\item \lstinline|Tabs.close (template : string) : int|;
	\item \lstinline|Tabs.close (url : regex) : int|;
	\item \lstinline|Tabs.closeByTitle (template : string) : int|;
	\item \lstinline|Tabs.closeByTitle (title : regex) : int|;
	\item \lstinline|Tabs.closeOthers () : int|;
	\item \lstinline|Tabs.closeToLeft () : int|;
	\item \lstinline|Tabs.closeToRight () : int|;
	\item \lstinline|Tabs.find (template : string) : Tab|;
	\item \lstinline|Tabs.find (url : regex) : Tab|;
	\item \lstinline|Tabs.findByTitle (template : string) : Tab|;
	\item \lstinline|Tabs.findByTitle (title : regex) : Tab|.
	% \item \lstinline|Tabs.|;
\end{icItems}

В режиме тестирования вкладки будут в произвольном порядке. В режиме автоматизации в строгом порядке.

\subsubsection{\lstinline|[r/o] Tabs'current : Tab|}

Текущая вкладка.

Возможные исключения: \ferror{NoSessions} (см. таб. \ref{errors}).

\subsubsection{\lstinline|[r/o] Tabs'first : Tab|}

Первая вкладка.

Возможные исключения: \ferror{NoSessions} (см. таб. \ref{errors}).

\subsubsection{\lstinline|[r/o] Tabs'last : Tab|}

Последняя вкладка.

Возможные исключения: \ferror{NoSessions} (см. таб. \ref{errors}).

\subsubsection{\lstinline|[r/o] Tabs'length : int|}

Количество вкладок.

Возможные исключения: \ferror{NoSessions} (см. таб. \ref{errors}).

\subsubsection{\lstinline|[r/o] Tabs'next : Tab|}

Следующая вкладка.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchTab} (см. таб. \ref{errors}).

\subsubsection{\lstinline|[r/o] Tabs'previous : Tab|}

Предыдущая вкладка.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchTab} (см. таб. \ref{errors}).

\subsubsection{\lstinline|[r/o] Tabs'(i : int) : Tab|}

\code{i}-я вкладка.

Возможные исключения: \ferror{NoSessions}, \ferror{OutOfBounds}.

\subsubsection{\lstinline|Tabs.close (template : string) : int|}

Закрывает все вкладки, у которых URL подходит по шаблону. Возвращает количество закрытых вкладок.

Возможные исключения: \ferror{NoSessions} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Tabs.close (url : regex) : int|}

Закрывает все вкладки, имеющее URL подходящий по регулярному выражению \code{url}. Возвращает количество закрытых вкладок.

Возможные исключения: \ferror{NoSessions} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Tabs.closeByTitle (template : string) : int|}

Закрывает все вкладки, у которых название подходит по шаблону. Возвращает количество закрытых вкладок.

Возможные исключения: \ferror{NoSessions} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Tabs.closeByTitle (title : regex) : int|}

Закрывает все вкладки, имеющее название подходяще по регулярному выражению \code{url}. Возвращает количество закрытых вкладок.

Возможные исключения: \ferror{NoSessions} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Tabs.closeOthers () : int|}

Закрывает все вкладки кроме текущей. Возвращает количество закрытых вкладок.

Возможные исключения: \ferror{NoSessions} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Tabs.closeToLeft () : int|}

Закрывает все вкладки которые находится с лева от текущей. Возвращает количество закрытых вкладок.

Возможные исключения: \ferror{NoSessions} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Tabs.closeToRight () : int|}

Закрывает все вкладки которые находится с права от текущей. Возвращает количество закрытых вкладок.

Возможные исключения: \ferror{NoSessions} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Tabs.find (template : string) : Tab|}

Возвращает первая вкладка, у которой URL подходит по шаблону.

Возможные исключения: \ferror{NoSessions} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Tabs.find (url : regex) : Tab|}

Возвращает первая вкладка, у которой URL подходит по регулярному выражению.

Возможные исключения: \ferror{NoSessions} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Tabs.findByTitle (template : string) : Tab|}

Возвращает первая вкладка, у которой название подходит по шаблону.

Возможные исключения: \ferror{NoSessions} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Tabs.findByTitle (title : regex) : Tab|}

Возвращает первая вкладка, у которой название подходит по регулярному выражению.

Возможные исключения: \ferror{NoSessions} (см. таб. \ref{errors}).

\subsection{{\color{orange} Tab}}

Объект \tab{} имеет следующие свойства:
\begin{icItems}
	\item \lstinline|[icL] [r/o] Tab'canGoBack : bool|;
	\item \lstinline|[icL] [r/o] Tab'canGoForward : bool|;
	\item \lstinline|[r/o] Tab'screenshot : string|;
	\item \lstinline|[r/o] Tab'source : string|;
	\item \lstinline|[r/*] Tab'title|;
	\item \lstinline|[r/w] Tab'url|.
\end{icItems}

И следующие методы:
\begin{icItems}
	\item \lstinline|Tab.back () : void|;
	\item \lstinline|Tab.close () : void|;
	\item \lstinline|Tab.focus () : void|;
	\item \lstinline|Tab.forward () : void|;
	\item \lstinline|Tab.get (url : string) : bool|.
\end{icItems}

\subsubsection{\lstinline|[icL] [r/o] Tab'canGoBack : bool|}

Возвращает \true, если можно вернутся на предыдущую страницу, иначе \false.

\subsubsection{\lstinline|[icL] [r/o] Tab'canGoForward : bool|}

Возвращает \true, если можно вернутся на следующую страницу, иначе \false.

\subsubsection{\lstinline|[r/o] Tab'screenshot : string|}

Возвращает скриншот вкладки, кодирован в base64.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{UnableToCaptureScreen} (см. таб. \ref{errors}).

\subsubsection{\lstinline|[r/o] Tab'source : string|}

Исходник страницы, открытой в указанной вкладке.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow} (см. таб. \ref{errors}).

\subsubsection{\lstinline|[r/*] Tab'title|}

Название страницы, открытой в указанной вкладке.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow} (см. таб. \ref{errors}).

\subsubsection{\lstinline|[r/w] Tab'url|}

URL страницы, открытой в указанной вкладке.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Tab.back () : void|}

Переходит на предыдущую страницу, как при нажатии на кнопке браузера "Назад".

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{Timeout} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Tab.close () : void|}

Закрывает окну, если она последняя закрывается и сессию.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Tab.focus () : void|}

Переключает фокус на вкладку. Фокус можно менять только внутри активной сессии.

Возможные исключения: \ferror{NoSessions} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Tab.forward () : void|}

Вернётся на следующую страницу, как при нажатии на кнопке браузера "Вперёд".

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{Timeout} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Tab.get (url : string) : bool|}

Загружает страницу, URL должен быть абсолютным. Возвращает \true{} при удачной загрузке, иначе \false.

\subsubsection{\lstinline|Tab.load (url : string) : void|}

Загружает страницу, URL должен быть абсолютным. При неудаче генерирует ошибку.

Возможные исключения: \ferror{NoSessions}, \ferror{NoSuchWindow}, \ferror{InvalidArgument}, \ferror{Timeout}, \ferror{InsecureCertificate} (см. таб. \ref{errors}).

\subsection{{\color{orange} Doc}}

Объект \dom{} имеет следующие методы:
\begin{icItems}
	\item \lstinline|Doc.query (by : int, selector : string) : element|;
	\item \lstinline|Doc.query (cssSelector : string) : element|;
	\item \lstinline|Doc.queryAll (by : int, selecor : string) : element|;
	\item \lstinline|Doc.queryAll (cssSelector : string) : lement|;
	\item \lstinline|Doc.queryAllByXPath (xpath : string) : element|;
	\item \lstinline|Doc.queryByXPath (xpath : string) : element|;
	\item \lstinline|Doc.queryLink (name : string, isFragment = false) : element|;
	\item \lstinline|Doc.queryLinks (name : string, isFragment = false) : element|;
	\item \lstinline|Doc.queryTag (name : string) : element|;
	\item \lstinline|Doc.queryTags (name : string) : element|.
\end{icItems}

\subsubsection{\lstinline|Doc.query (by = By'cssSelector, selector : string) : element|}

Принимает то же самые параметры, как и \lstinline|element.query|, только поиск ведётся по всему документу.

Возможные исключения: \ferror{NoSessions}, \ferror{Timeout} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Doc.queryAll (by = By'cssSelector, selecor : string) : element|}

Принимает то же самые параметры, как и \lstinline|element.queryAll|, только поиск ведётся по всему документу. 

Возможные исключения: \ferror{NoSessions} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Doc.queryAll (cssSelector : string) : lement|}

Акроним для \lstinline|Doc.queryAll (By'cssSelector, @cssSelector)|.

\subsubsection{\lstinline|Doc.queryAllByXPath (xpath : string) : element|}

Акроним для \lstinline|Doc.queryAll (By'xPath, @xpath)|.

\subsubsection{\lstinline|Doc.queryByXPath (xpath : string) : element|}

Акроним для \lstinline|Doc.query (By'xPath, @xpath)|.

\subsubsection{\lstinline|Doc.queryLink (name : string, isFragment = false) : element|}

Акроним для:
\begin{icItems}
	\item \lstinline|Doc.query (By'linkText, @name)|;
	\item \lstinline|Doc.query (By'partialLinkText, @name)|;
\end{icItems}

\subsubsection{\lstinline|Doc.queryLinks (name : string, isFragment = false) : element|}

Акроним для:
\begin{icItems}
	\item \lstinline|Doc.queryAll (By'linkText, @name)|;
	\item \lstinline|Doc.queryAll (By'partialLinkText, @name)|;
\end{icItems}

\subsubsection{\lstinline|Doc.queryTag (name : string) : element|}

Акроним для \lstinline|Doc.query (By'tagName, @name)|.

\subsubsection{\lstinline|Doc.queryTags (name : string) : element|}

Акроним для \lstinline|Doc.queryAll (By'tagName, @name)|.

\subsection{{\color{orange} Files}}

Объект \files{} имеет следующие методы:
\begin{icItems}
	\item \lstinline|Files.open (path : string) : File|;
	\item \lstinline|Files.create (path : string) : File|;
	\item \lstinline|Files.createDir (path : string) : void|;
	\item \lstinline|Files.createPath (path : string) : void|.
\end{icItems}

\subsubsection{\lstinline|Files.open (path : string) : File|}

Открывает файл.

Возможные исключения: \ferror{FileNotFound} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Files.create (path : string) : File|}

Открывает файл, если он не существует, он создаётся.

Возможные исключения: \ferror{FolderNotFound} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Files.createDir (path : string) : void|}

Создаёт папку, папка в которым она создаётся должна уже существовать.

Возможные исключения: \ferror{FolderNotFound} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Files.createPath (path : string) : void|}

Создаёт все несуществующие папки пути.

\subsection{{\color{orange} File}}

Объект \file{} имеет следующие свойства:
\begin{icItems}
	\item \lstinline|[r/o] File'CSV : 1|;
	\item \lstinline|[r/w] File'format : int|;
	\item \lstinline|[r/o] File'none : 0|;
	\item \lstinline|[r/o] File'TSV : 2|;
	\item \lstinline|[r/o] File'valid : bool|.
\end{icItems}

И следующие методы:
\begin{icItems}
	\item \lstinline|File.close () : void|;
	\item \lstinline|File.delete () : void|.
\end{icItems}

\subsubsection{\lstinline|[r/o] File'CSV : 1|}

Формат CSV.

\subsubsection{\lstinline|[r/w] File'format : int|}

Возвращает формат файла.

\subsubsection{\lstinline|[r/o] File'none : 0|}

Не инициализированный файл.

\subsubsection{\lstinline|[r/o] File'TSV : 2|}

Формат TSV.

\subsubsection{\lstinline|[r/o] File'valid : bool|}

Возвращает \true, если файл инициализированный, иначе \false.

\subsubsection{\lstinline|File.close () : void|}

Закрывает файл.

\subsubsection{\lstinline|File.delete () : void|}

Удаляет файл.

\subsection{{\color{orange} Make}}

Объект \make{} имеет следующие методы:
\begin{icItems}
	\item \lstinline|Make.image (base64 : string, path : string) : void|;
	\item \lstinline|Make.int (str : string, base : int) : int|;
	\item \lstinline|Make.list (s : set) : list|;
	\item \lstinline|Make.object (json : string) : object|;
	\item \lstinline|Make.regex (pattern : string) : regex|;
	\item \lstinline|Make.string (b : bool) : string|;
	\item \lstinline|Make.string (d : double) : string|;
	\item \lstinline|Make.string (number : int, base : int) : string|;
	\item \lstinline|Make.string (obj : object) : string|;
	\item \lstinline|Make.string (s : set) : string|.
\end{icItems}

\subsubsection{\lstinline|Make.image (base64 : string, path : string) : void|}

Сохраняет скриншот на жёстком диске.

\subsubsection{\lstinline|Make.int (str : string, base : int) : int|}

Парсит целое число в виде строки в нужном базисе.

Возможные исключения: \ferror{ParsingFailed} (см. таб. \ref{errors}).

\subsubsection{\lstinline|Make.list (s : set) : list|}

Акроним для \lstinline|set : list|.

\subsubsection{\lstinline|Make.object (json : string) : object|}

Акроним для \lstinline|object : string|.

\subsubsection{\lstinline|Make.regex (pattern : string) : regex|}

Создаёт регулярное выражение на основе паттерна.

\subsubsection{\lstinline|Make.string (b : bool) : string|}

Возвращает \lstinline|"true"|, если \lstinline|b == true|, иначе \lstinline|"false"|.

\subsubsection{\lstinline|Make.string (d : double) : string|}

Акроним для \lstinline|double : string|.

\subsubsection{\lstinline|Make.string (number : int, base : int) : string|}

Возвращает представления числа в заданном базисе.

\subsubsection{\lstinline|Make.string (obj : object) : string|}

Акроним для \lstinline|object : string|.

\subsubsection{\lstinline|Make.string (s : set) : string|}

Акроним для \lstinline|set : string|.

\subsection{{\color{orange} Log}}

Объект \logtype{} имеет следующие методы:
\begin{icItems}
	\item \lstinline|Log.error (message : string) : void|;
	\item \lstinline|Log.info (message : string) : void|;
	\item \lstinline|Log.out (args : any ...) : void|;
	\item \lstinline|Log.stack (var : any) : void|;
	\item \lstinline|Log.state (var : any) : void|.
\end{icItems}

\subsubsection{\lstinline|Log.error (message : string) : void|}

Выводит сообщение об ошибке.

\subsubsection{\lstinline|Log.info (message : string) : void|}

Выводит информационное сообщение.

\subsubsection{\lstinline|Log.out (args : any ...) : void|}

Выводит отладочное сообщение, принимает несколько параметров любого типа. При получении переменных выводит исходник, название перемены, тип данных и значение. При получении константных только значение. При получении результата выполнения функции - тип и значение. 

\subsubsection{\lstinline|Log.stack (var : any) : void|}

Выводит список всех стеков, указывая в каких из них встречается переменная с указанным именем, и какие значения имеются.

\subsubsection{\lstinline|Log.state (var : any) : void|}

Выводит список всех состояний, указывая в каких из них встречается переменная с указанным именем, и какие значения имеются.

\subsection{{\color{orange} Numbers}}

Объект \numbers{} имеет следующие свойства:
\begin{icItems}
	\item \lstinline|[r/o] Numbers'max : 4|;
	\item \lstinline|[r/o] Numbers'min : 3|;
	\item \lstinline|[r/o] Numbers'product : 2|;
	\item \lstinline|[r/o] Numbers'process : int|;
	\item \lstinline|[r/o] Numbers'sum : 1|.
\end{icItems}

И следующие методы:
\begin{icItems}
	\item \lstinline|Numbers.process (a : int, b : int) : int|;
	\item \lstinline|Numbers.process (a : double, b : double) : double|;
	\item \lstinline|Numbers.restoreProcess () : void|;
	\item \lstinline|Numbers.setProcess (proc : int) : void|.
\end{icItems}

\subsubsection{\lstinline|[r/o] Numbers'max : 4|}

Выбирать максимум.

\subsubsection{\lstinline|[r/o] Numbers'min : 3|}

Выбирать минимум.

\subsubsection{\lstinline|[r/o] Numbers'product : 2|}

Умножить числа.

\subsubsection{\lstinline|[r/o] Numbers'process : int|}

Текущий способ обработки чисел.

\subsubsection{\lstinline|[r/o] Numbers'sum : 1|}

Складывать числа.

\subsubsection{\lstinline|Numbers.process (a : int, b : int) : int|}

Обработать целых чисел текущим методом.

\subsubsection{\lstinline|Numbers.process (a : double, b : double) : double|}

Обработать дробных чисел текучим методом.

\subsubsection{\lstinline|Numbers.restoreProcess () : void|}

Удаляет последняя запись стека способов обработки.

\subsubsection{\lstinline|Numbers.setProcess (proc : int) : void|}

Добавляет новая запись в стеке способов обработки.

\subsection{{\color{orange} Math}}

Объект \lstinline|Math| имеет следующие свойства:
\begin{icItems}
	\item \lstinline|[r/o] Math'1divPi : double|;
	\item \lstinline|[r/o] Math'1divSqrt2 : double|;
	\item \lstinline|[r/o] Math'2divPi : double|;
	\item \lstinline|[r/o] Math'2divSqrtPi : double|;
	\item \lstinline|[r/o] Math'e : double|;
	\item \lstinline|[r/o] Math'ln2 : double|;
	\item \lstinline|[r/o] Math'ln10 : double|;
	\item \lstinline|[r/o] Math'log2e : double|;
	\item \lstinline|[r/o] Math'log10e : double|;
	\item \lstinline|[r/o] Math'pi : double|;
	\item \lstinline|[r/o] Math'piDiv2 : double|;
	\item \lstinline|[r/o] Math'piDiv4 : double|;
	\item \lstinline|[r/o] Math'sqrt2 : double|.
\end{icItems}

И следующие методы:
\begin{icItems}
	\item \lstinline|Math.acos (v : double) : double|;
	\item \lstinline|Math.asin (v : double) : double|;
	\item \lstinline|Math.atan (v : double) : double|;
	\item \lstinline|Math.ceil (v : double) : int|;
	\item \lstinline|Math.cos (v : double) : double|;
	\item \lstinline|Math.degreesToRadians (v : double) : double|;
	\item \lstinline|Math.exp (v : double) : double|;
	\item \lstinline|Math.floor (v : double) : int|;
	\item \lstinline|Math.ln (v : double) : double|;
	\item \lstinline|Math.min (arr : int ...) : int|;
	\item \lstinline|Math.min (arr : double ...) : double|;
	\item \lstinline|Math.max (arr : int ...) : int|;
	\item \lstinline|Math.max (arr : double ...) : double|;
	\item \lstinline|Math.radiansToDegrees (v : double) : double|;
	\item \lstinline|Math.round (<double>) : int|;
	\item \lstinline|Math.sin (v : double) : double|;
	\item \lstinline|Math.tan (v : double) : double|.
\end{icItems}

\subsubsection{\lstinline|[r/o] Math'1divPi : double|}

1 делить на пи ($\frac{1}{\pi}$).

\subsubsection{\lstinline|[r/o] Math'1divSqrt2 : double|}

1 делить на корень из числа 2 ($\frac{1}{\sqrt{2}}$).

\subsubsection{\lstinline|[r/o] Math'2divPi : double|}

2 делить на пи ($\frac{2}{\pi}$).

\subsubsection{\lstinline|[r/o] Math'2divSqrtPi : double|}

2 делить на корень из числа пи ($\frac{2}{\sqrt{\pi}}$).

\subsubsection{\lstinline|[r/o] Math'e : double|}

Число ($e$).

\subsubsection{\lstinline|[r/o] Math'ln2 : double|}

Натуральный логарифм числа 2 ($\ln{2}$).

\subsubsection{\lstinline|[r/o] Math'ln10 : double|}

Натуральный логарифм числа 10 ($\ln_{10}$).

\subsubsection{\lstinline|[r/o] Math'log2e : double|}

Логарифм числа е по основанию 2 ($\log_{2}{e}$).

\subsubsection{\lstinline|[r/o] Math'log10e : double|}

Логарифм числа е по основанию 10 ($\log_{10}{e}$).

\subsubsection{\lstinline|[r/o] Math'pi : double|}

Число пи ($\pi$).

\subsubsection{\lstinline|[r/o] Math'piDiv2 : double|}

Пи по полам ($\frac{\pi}{2}$).

\subsubsection{\lstinline|[r/o] Math'piDiv4 : double|}

Пи на 4 ($\frac{\pi}{4}$).

\subsubsection{\lstinline|[r/o] Math'sqrt2 : double|}

Корень из числа 2 ($\sqrt{2}$).

\subsubsection{\lstinline|Math.acos (v : double) : double|}

Арккосинус ($\arccos{v}$).

\subsubsection{\lstinline|Math.asin (v : double) : double|}

Арксинус ($\arcsin{v}$).

\subsubsection{\lstinline|Math.atan (v : double) : double|}

Арктангенс ($\arctan{v}$).

\subsubsection{\lstinline|Math.ceil (v : double) : int|}

Наименьшее целое число больше или равна \code{v}.

\subsubsection{\lstinline|Math.cos (v : double) : double|}

Косинус ($\cos{v}$).

\subsubsection{\lstinline|Math.degreesToRadians (v : double) : double|}

Преобразует градусы в радианы.

\subsubsection{\lstinline|Math.exp (v : double) : double|}

Функция экспонент ($\exp{v}$).

\subsubsection{\lstinline|Math.floor (v : double) : int|}

Наибольшее целое число меньше или равна \code{v}.

\subsubsection{\lstinline|Math.ln (v : double) : double|}

Натуральный логарифм ($\ln{v}$).

\subsubsection{\lstinline|Math.min (arr : int ...) : int|}

Возвращает наименьшее целое число.

\subsubsection{\lstinline|Math.min (arr : double ...) : double|}

Возвращает наименьшее дробное число.

\subsubsection{\lstinline|Math.max (arr : int ...) : int|}

Возвращает наибольшее целое число.

\subsubsection{\lstinline|Math.max (arr : double ...) : double|}

Возвращает наибольшее дробное число.

\subsubsection{\lstinline|Math.radiansToDegrees (v : double) : double|}

Преобразует радианы в градусы.

\subsubsection{\lstinline|Math.round (<double>) : int|}

Возвращает ближайшее целое число.

\subsubsection{\lstinline|Math.sin (v : double) : double|}

Синус ($\sin{v}$).

\subsubsection{\lstinline|Math.tan (v : double) : double|}

Тангенс ($\tan{v}$).

\subsection{{\color{orange} Import}}

Объект \lstinline|Import| имеет следующие методы:
\begin{icItems}
	\item \lstinline|Import.none (data = [=], path : string) : void|;
	\item \lstinline|Import.functions (data = [=], path : string) : void|;
	\item \lstinline|Import.all (data = [=], path : string) : void|;
	\item \lstinline|Import.run (path : string) : void|.
\end{icItems}

Объект \code{data} позволяет передать данные в изолированном контексте, они там будут доступны как глобальные переменные. Это позволяет в одном файле хранить несколько версий библиотеки например, и при использовании указать какую версию загрузить.

\subsubsection{\lstinline|Import.none (data = [=], path : string) : void|}

Создаёт изолируемый контекст, в нём выполняет файл.

\subsubsection{\lstinline|Import.functions (data = [=], path : string) : void|}

Создаёт изолируемый контекст, в нём выполняет файл, потом импортирует все функции в текущем контексте.

\subsubsection{\lstinline|Import.all (data = [=], path : string) : void|}

Создаёт изолируемый контекст, в нём выполняет файл, потом импортирует все функции и глобальные переменный в текущем контексте.

\subsubsection{\lstinline|Import.run (path : string) : void|}

Выполняет файл в текущем контексте.

\subsection{Модификаторы управления}

Модификаторы управления позволяют изменить ход выполнения некоторых конструкций языка.

\subsubsection{\lstinline|if:not|}

\lstinline|if:not (@var == true)| эквивалентно \lstinline|if (!(@var == true))|, в этом случае уменьшения количестве скобок упрощает чтения кода. 

\subsubsection{\lstinline|if:not exists|}

\lstinline|if exists| хорош тем что позволяет выполнить код только когда есть нужные данные. А что если нам нужно генерировать исключение когда нужные данные отсутствуют? Эту проблему решает \lstinline|if:not exists|. В сравнении с \lstinline|if exists|, никакие данные не будут переданы в блоке команд.

\subsubsection{\lstinline|for:alt| - альтернативный параметрический цикл}

В параметрическом цикле меняется порядок выполнения действий. \lstinline|for:alt| гарантирует выполнение блока команд в минимум один раз.

Порядок действий конструкций \lstinline|for|:
\begin{icEnum}
	\item инициализация;
	\item проверка условий;
	\item выполнения блока команд;
	\item выполнения команды перехода на следующую итерацию.
\end{icEnum}

Порядок действий конструкций \lstinline|for:alt|:
\begin{icEnum}
	\item инициализация;
	\item выполнения блока команд;
	\item выполнения команды перехода на следующую итерацию;
	\item проверка условий.
\end{icEnum}

\subsubsection{\lstinline|while:not| - условное повторение кода}

\lstinline|while:not| будет выполнить блок команд, пока условие остаётся ложной.

\subsubsection{\lstinline|do while:not| - цикл с постусловий}

\lstinline|do while:not| будет выполнить блок команд, пока условие остаётся ложной. Так же как и \lstinline|do while| гарантирует что тело цикла будет выполнена минимум 1 раз.

\subsubsection{\lstinline|for:reverse| - прохождение коллекций}

\lstinline|for::reverse| будет пройти коллекцию в обратном порядке.

\subsubsection{\lstinline|filter:reverse| - выборочное прохождение коллекций}

\lstinline|filter:reverse| будет пройти коллекцию в обратном порядке.

\subsubsection{\lstinline|range::reverse| - частичное прохождение коллекций}

\lstinline|filter:reverse| будет пройти интервал в обратном порядке.

%\newpage
