% !TeX spellcheck = ru_RU
\section{Операторы}

{\bf Оператор} - это токен, который предписывает выполнение определённой манипуляции данных. Встроенных операторов в icL очень много, по этому будет их разбирать по типу данных.

{\bf Порядок выполнения операторов} определяет ранг, операторы имеющие наивысший ранг выполняются первыми, а имеющие наименьший ранг - последними. Операторы имеющие правая ассоциативность выполняются раньше чем операторы имеющие левое ассоциативность, они отмечены плюсом справа от ранга, например 7$^+$.

{\bf Оператор пристраивания} имеет ранг 0 и правая ассоциативность.

{\bf Квадратные скобки} в языке icL, также являются операторами, имеющие ранг 1 и левая ассоциативность.

При описании операторов используется понятие {\bf операции} и понятие {\bf оператора}. Под операций подразумевается общий случай (например {\it сложение}). Под оператором подразумевается частный случай (например {\it сложение целых чисел}). Оператор становится операцией при первой возможность его реализаций, например в выражения \mintinline{icl}{1 + 2 * 3}, оператор \mintinline{icl}{+} становится операцией только после выполнения операций умножения.

\subsection{Логические операций}

Если у вас отсутствуют знания по алгебре логике, пожалуйста прочтите любую книгу по основам данной науке. Логические операции перечислены в таблице \ref{logicops}.

\stablethree{1.0cm}{5.0cm}{5.0cm}
{logicops}{Логические операций}
{Ранг}{Операция}{Оператор}
{
    2     & конъюнкция      & \mintinline{icl}{bool \& bool : bool} \\ \hline
	2     & дизъюнкция      & \mintinline{icl}{bool | bool : bool}  \\ \hline
	2     & эквивалентность & \mintinline{icl}{bool ~ bool : bool}  \\ \hline
	2     & исключающий или & \mintinline{icl}{bool ^ bool : bool}  \\ \hline
	7$^+$ & инверсия        & \mintinline{icl}{! bool : bool}       \\ \hline
	3     & равно           & \mintinline{icl}{bool == bool : bool} \\ \hline
	3     & не равно        & \mintinline{icl}{bool != bool : bool} \\
}

Примеры использования выше перечисленных операторов, продемонстрированы на листинге \ref{boolopex}.

\begin{sourcecode}
\captionof{listing}{Примеры использования операторов над данными типа bool}
\label{boolopex}
\begin{minted}[linenos]{icl}
Log.out "true & false = " (true & false);		`` true \& false = false
Log.out "false | true =  " (false | true);		`` false | true = true
Log.out "true ~ false = " (true ~ false);		`` true \textasciitilde\ false = false
Log.out "false ^ true = " (false ^ true);		`` false \textasciicircum\ true = true`

Log.out "!true = " !true;						`` !true = false
Log.out "!false = " !false;					`` !false = true

Log.out "true == false = " (true == false);	`` true == false = false
Log.out "false != true = " (false != true);	`` false != true = true
\end{minted}
\end{sourcecode}

\subsubsection{\mintinline{icl}{(a : bool) & (b : bool) : bool}}

Оператор принимает логическую операцию "конъюнкция" над переменными a и b. Зависимость результата от исходных данных иллюстрирована в таблице \ref{conjtable}.

\begin{table}[htb]
	\caption{Таблица истинности конъюнкции}
	\label{conjtable}
	\begin{tabular}{|c|c|c|}
		\hline
		\mintinline{icl}{a} & \mintinline{icl}{b} & \mintinline{icl}{a \& b} \\ \hline
		\false{} & \false{} & \false{}  	\\ \hline
		\false{} & \true{}  & \false{}  	\\ \hline
		\true{}  & \false{} & \false{}  	\\ \hline
		\true{}  & \true{}  & \true{}   	\\ \hline
	\end{tabular}
	\vspace{-2em}
\end{table}

\subsubsection{\mintinline{icl}{(a : bool) | (b : bool) : bool}}

Оператор принимает логическую операцию "дизъюнкция" над переменными a и b. Зависимость результата от исходных данных иллюстрирована в таблице \ref{distable}.

\begin{table}[htb]
	\caption{Таблица истинности дизъюнкции}
	\label{distable}
	\begin{tabular}{|c|c|c|}
		\hline
		\mintinline{icl}{a} & \mintinline{icl}{b} & \mintinline{icl}{a \| b} 	\\ \hline
		\false{} & \false{} & \false{} 		\\ \hline
		\false{} & \true{}  & \true{}  		\\ \hline
		\true{}  & \false{} & \true{}  		\\ \hline
		\true{}  & \true{}  & \true{}  		\\ \hline
	\end{tabular}
	\vspace{-2em}
\end{table}

\subsubsection{\mintinline{icl}{(a : bool) ~ (b : bool) : bool}}

Оператор сравнивает логические переменные a и b. Зависимость результата от исходных данных иллюстрирована в таблице \ref{logeqtable}.

\begin{table}[htb]
	\caption{Таблица истинности эквивалентности}
	\label{logeqtable}
	\begin{tabular}{|c|c|c|}
		\hline
		\mintinline{icl}{a} & \mintinline{icl}{b} & \mintinline{icl}{a \~ b} \\ \hline
		\false{} & \false{} & \true{}   	\\ \hline
		\false{} & \true{}  & \false{}  	\\ \hline
		\true{}  & \false{} & \false{}  	\\ \hline
		\true{}  & \true{}  & \true{}   	\\ \hline
	\end{tabular}
	\vspace{0em}
\end{table}

\subsubsection{\mintinline{icl}{(a : bool) ^ (b : bool) : bool}}

Оператор сравнивает логические переменные a и b. Зависимость результата от исходных данных иллюстрирована в таблице \ref{logdifftable}.

\begin{table}[htb]
	\caption{Таблица истинности исключающего или}
	\label{logdifftable}
	\begin{tabular}{|c|c|c|}
		\hline
		\mintinline{icl}{a} & \mintinline{icl}{b} & \mintinline{icl}{a \^ b} \\ \hline
		\false{} & \false{} & \false{}  	\\ \hline
		\false{} & \true{}  & \true{}   	\\ \hline
		\true{}  & \false{} & \true{}  		\\ \hline
		\true{}  & \true{}  & \false{}  	\\ \hline
	\end{tabular}
	\vspace{-2em}
\end{table}

\subsubsection{\mintinline{icl}{! (a : bool) : bool}}

Оператор принимает логическую операцию "инверсия" над переменной a. Зависимость результата от исходных данных иллюстрирована в таблице \ref{invtable}.

\begin{table}[htb]
	\caption{Таблица истинности инверсии}
	\label{invtable}
	\begin{tabular}{|c|c|}
		\hline
		\mintinline{icl}{a} & \mintinline{icl}{!a} \\ \hline
		\false{} & \true{} 	 \\ \hline
		\true{}  & \false{}  \\ \hline
	\end{tabular}
	\vspace{-2em}
\end{table}

\subsubsection{\mintinline{icl}{(a : bool) == (b : bool) : bool}}

Возвращает \true{} если a равно b, иначе \false{}.

\subsubsection{\mintinline{icl}{(a : bool) != (b : bool) : bool}}

Возвращает \true{} если a равно b, иначе \false{}.

\subsection{Операции над числами}

Доступные операции над числами перечислены в таблице \ref{numbersops}.

\stablethree{1.0cm}{7.0cm}{6.0cm}
{numbersops}{Операции над числами}
{Ранг}{Операция}{Оператор}
{
3     & равно                          & \mintinline{icl}{int == int : bool}          \\ \hline
3     & равно                          & \mintinline{icl}{double == double : bool}    \\ \hline
3     & не равно                       & \mintinline{icl}{int != int : bool}          \\ \hline
3     & не равно                       & \mintinline{icl}{double != double : bool}    \\ \hline
3     & больше                         & \mintinline{icl}{int > int : bool}           \\ \hline
3     & больше                         & \mintinline{icl}{double > double : bool}     \\ \hline
3     & больше или равно               & \mintinline{icl}{int >= int : bool}          \\ \hline
3     & больше или равно               & \mintinline{icl}{double >= double : bool}    \\ \hline
3     & меньше                         & \mintinline{icl}{int < int : bool}           \\ \hline
3     & меньше                         & \mintinline{icl}{double < double : bool}     \\ \hline
3     & меньше или равно               & \mintinline{icl}{int <= int : bool}          \\ \hline
3     & меньше или равно               & \mintinline{icl}{double <= double : bool}    \\ \hline
3     & меньше или больше              & \mintinline{icl}{int <> (int, int)}          \\ \hline
3     & меньше или больше              & \mintinline{icl}{double <> (double, double)} \\ \hline
3     & меньше, больше или равно       & \mintinline{icl}{int <=> (int, int)}         \\ \hline
3     & меньше, больше или равно       & \mintinline{icl}{double <=> (double, double)}\\ \hline
3     & больше и меньше                & \mintinline{icl}{int >< (int, int)}          \\ \hline
3     & больше и меньше                & \mintinline{icl}{double >< (double, double)} \\ \hline
3     & больше и меньше (или равно)    & \mintinline{icl}{int >=< (int, int)}         \\ \hline
3     & больше и меньше (или равно)    & \mintinline{icl}{double >=< (double, double)}\\ \hline
4     & сложение                       & \mintinline{icl}{int + int : int}            \\ \hline
4     & сложение                       & \mintinline{icl}{double + double : double}   \\ \hline
4     & вычитание                      & \mintinline{icl}{int - int : int}            \\ \hline
4     & вычитание                      & \mintinline{icl}{double - double : double}   \\ \hline
5     & умножение                      & \mintinline{icl}{int * int : int}            \\ \hline
5     & умножение                      & \mintinline{icl}{double * double : double}   \\ \hline
5     & деление                        & \mintinline{icl}{int / int : int}            \\ \hline
5     & деление                        & \mintinline{icl}{double / double : double}   \\ \hline
5     & остаток от деления целых чисел & \mintinline{icl}{int \ int : int}            \\ \hline
6$^+$ & возведения в квадрат           & \mintinline{icl}{int** : int}                \\ \hline
6$^+$ & возведения в квадрат           & \mintinline{icl}{double** : double}          \\ \hline
6$^+$ & возведения в степень           & \mintinline{icl}{int ** int : int}           \\ \hline
6$^+$ & возведения в степень           & \mintinline{icl}{double ** double : double}  \\ \hline
6$^+$ & извлечения квадратного корня   & \mintinline{icl}{/'int : int}                \\ \hline
6$^+$ & извлечения квадратного корня   & \mintinline{icl}{/'double : double}          \\ \hline
6$^+$ & извлечения корня               & \mintinline{icl}{int/'int : int}             \\ \hline
6$^+$ & извлечения корня               & \mintinline{icl}{int/'double : double}       \\ \hline
6$^+$ & извлечения корня               & \mintinline{icl}{double/'double : double}    \\ \hline
7$^+$ & инверсия знака                 & \mintinline{icl}{-int : int}                 \\ \hline
7$^+$ & инверсия знака                 & \mintinline{icl}{-double : double}           \\ \hline
7$^+$ & абсолютное значение            & \mintinline{icl}{+int : int}                 \\ \hline
7$^+$ & абсолютное значение            & \mintinline{icl}{+double : double}           \\
}

Примеры использования выше перечисленных операторов, продемонстрированы на листинге \ref{numberopex}.

\begin{sourcecode}
\captionof{listing}{Примеры использования операторов над данными типа int и double}
\label{numberopex}
\begin{minted}[linenos]{icl}
`` 3rd rank
Log.out "2 == 3 = "			2 == 3;		`` 2 = 3 = false
Log.out "2.5 == 2.5 = "		2.5 == 2.5;	`` 2.5 = 2.5 = true
Log.out "1 != 2 = "			1 != 2;		`` 1 $\neq$ 2 = true
Log.out "2.1 != 2.1 = "		2.1 != 2.1;	`` 2.1 $\neq$ 2.1 = false
Log.out "3 > 2 = "			3 > 2;		`` 3 > 2 = true
Log.out "1.1 > 2.1 = "		1.1 > 2.1;	`` 1.1 > 2.1 = false
Log.out "5 >= 2 = "			5 >= 2;		`` 5 $\geq$ 2 = true
Log.out "5.1 >= 2 = "		5.1 >= 2;	`` 5.1 $\geq$ 2 = true
Log.out "3 < 9 = "			3 < 9;		`` 3 < 9 = true
Log.out "6.1 < 6.2 = "		6.1 < 6.2;	`` 6.1 < 6.2 = true
Log.out "4 <= 5 = "			4 <= 5;		`` 4 $\leq$ 5 = true
Log.out "5.6 <= 6.5 = "		5.6 <= 6.5;	`` 5.6 $\leq$ 6.5 = true
Log.out "1 <> (2, 3) = "	1 <> (2,3); `` 1 < 2 | 1 > 3 = true
Log.out "1 >< (2, 3) = "	1 >< (2,3); `` 2 < 1 < 3 = false
`` 4th rank
Log.out "2 + 3 = "			2 + 3;		`` 2 + 3 = 5
Log.out "2.1 + 1.1 = "		2.1 + 1.1;	`` 2.1 + 1.1 = 3.2
Log.out "4 - 5 = "			4 - 5;		`` 4 - 5 = -1
Log.out "4.5 - 3.4 = "		4.5 - 3.4;	`` 4.5 - 3.4 = 1.1
`` 5th rank
Log.out "2 * 3 = "			2 * 3;		`` 2 $\cdot$ 3 = 6
Log.out "2.1 * 5.7 = "		2.1 * 5.7;	`` 2.1 $\cdot$ 5.7 = 11.97
Log.out "5 / 7 = "			5 / 7;		`` 5 $\div$ 7 = 0.7142857142857
Log.out "5.0 / 7.1 = "		5.0 / 7.1;	`` 5.0 $\div$ 7.1 = 0.7042253521126
Log.out "45 \ 8 = "			45 \ 8;		`` 45 \textbackslash 8 = 5
`` 6+th rank
Log.out "25** = "			25**;		`` $25^2$ = 625
Log.out "25.1** = "			25.1**;		`` $25.1^2$ = 630,01
Log.out "34 ** 3 = "		34 ** 3;	`` $34^3$ = 39304
Log.out "2.0 ** 1.5 = "		2.0 ** 1.5;	`` $2.0^{1.5}$ = 2.8284271247461
Log.out "/'25 = "			/'25;		`` $\sqrt{25}$ = 5
Log.out "/'125.7 = "		/'125.7;	`` $\sqrt{125.7}$ = 11.211601134539
Log.out "3/'27 = "			3/'27;		`` $\sqrt[3]{27}$ = 3
Log.out "5.0/'125.5 = "		5.0/'125.5;	`` $\sqrt[5.0]{125.5}$ = 2.6286256727378
`` 7+th rank
Log.out "- 35 = "			- 35;		`` - 35 = -35
Log.out "- -56.7 = "		- -56.7;	`` - -56.7 = 56.7
Log.out "+ -100 = "			+ -100;		`` + -100 = 100
Log.out "+ 89.7 = "			+ 89.7;		`` + 89.7 = 89.7
\end{minted}
\end{sourcecode}

\subsubsection{\mintinline{icl}{(a : int) == (b : int) : bool}}

Возвращает \true{} если \mintinline{icl}{a} и \mintinline{icl}{b} имеют одинаковое значение, иначе \false{}.

\subsubsection{\mintinline{icl}{(a : double) == (b : double) : bool}}

Возвращает \true{} если \mintinline{icl}{a} и \mintinline{icl}{b} отличаются довольно мало (например на 10$^{-15}$), иначе \false{}.

\subsubsection{\mintinline{icl}{(a : int) != (b : int) : bool}}

Возвращает \true{} если \mintinline{icl}{a} и \mintinline{icl}{b} не имеют одинаковое значение, иначе \false{}.

\subsubsection{\mintinline{icl}{(a : double) != (b : double) : bool}}

Возвращает \true{} если \mintinline{icl}{a} и \mintinline{icl}{b} отличаются больше чем на уровень погрешности машины, иначе \false{}.

\subsubsection{\mintinline{icl}{(a : int) > (b : int) : bool}}

Возвращает \true{} если целое число \mintinline{icl}{a} больше \mintinline{icl}{b}, иначе \false{}.

\subsubsection{\mintinline{icl}{(a : double) > (b : double) : bool}}

Возвращает \true{} если дробное число \mintinline{icl}{a} больше \mintinline{icl}{b}, иначе \false{}.

\subsubsection{\mintinline{icl}{(a : int) >= (b : int) : bool}}

Возвращает \true{} если целое число \mintinline{icl}{a} больше или равно \mintinline{icl}{b}, иначе \false{}.

\subsubsection{\mintinline{icl}{(a : double) >= (b : double) : bool}}

Возвращает \true{} если дробное число \mintinline{icl}{a} больше или равно \mintinline{icl}{b}, иначе \false{}.

\subsubsection{\mintinline{icl}{(a : int) < (b : int) : bool}}

Возвращает \true{} если целое число \mintinline{icl}{a} меньше \mintinline{icl}{b}, иначе \false{}.

\subsubsection{\mintinline{icl}{(a : double) < (b : double) : bool}}

Возвращает \true{} если дробное число \mintinline{icl}{a} меньше \mintinline{icl}{b}, иначе \false{}.

\subsubsection{\mintinline{icl}{(a : int) <= (b : int) : bool}}

Возвращает \true{} если целое число \mintinline{icl}{a} меньше или равно \mintinline{icl}{b}, иначе \false{}.

\subsubsection{\mintinline{icl}{(a : double) <= (b : double) : bool}}

Возвращает \true{} если дробное число \mintinline{icl}{a} меньше или равно \mintinline{icl}{b}, иначе \false{}.

\subsubsection{\mintinline{icl}{(a : int) <> (b : int, c : int) : bool}}

Возвращает \true{} если целое число \mintinline{icl}{a} меньше \mintinline{icl}{b} или больше \mintinline{icl}{c}, иначе \false{}.

\subsubsection{\mintinline{icl}{(a : double) <> (b : double, c : double) : bool}}

Возвращает \true{} если дробное число \mintinline{icl}{a} меньше \mintinline{icl}{b} или больше \mintinline{icl}{c}, иначе \false{}.

\subsubsection{\mintinline{icl}{(a : int) <=> (b : int, c : int) : bool}}

Возвращает \true{} если целое число \mintinline{icl}{a} меньше или равно \mintinline{icl}{b} или больше или равно \mintinline{icl}{c}, иначе \false{}.

\subsubsection{\mintinline{icl}{(a : double) <=> (b : double, c : double) : bool}}

Возвращает \true{} если дробное число \mintinline{icl}{a} меньше или равно \mintinline{icl}{b} или больше или равно \mintinline{icl}{c}, иначе \false{}.

\subsubsection{\mintinline{icl}{(a : int) >< (b : int, c : int) : bool}}

Возвращает \true{} если целое число \mintinline{icl}{a} больше \mintinline{icl}{b} и меньше \mintinline{icl}{c}, иначе \false{}.

\subsubsection{\mintinline{icl}{(a : double) >< (b : double, c : double) : bool}}

Возвращает \true{} если дробное число \mintinline{icl}{a} больше \mintinline{icl}{b} и меньше \mintinline{icl}{c}, иначе \false{}.

\subsubsection{\mintinline{icl}{(a : int) >=< (b : int, c : int) : bool}}

Возвращает \true{} если целое число \mintinline{icl}{a} больше или равно \mintinline{icl}{b} и меньше или равно \mintinline{icl}{c}, иначе \false{}.

\subsubsection{\mintinline{icl}{(a : double) >=< (b : double, c : double) : bool}}

Возвращает \true{} если дробное число \mintinline{icl}{a} больше или равно \mintinline{icl}{b} и меньше или равно \mintinline{icl}{c}, иначе \false{}.


\subsubsection{\mintinline{icl}{(a : int) + (b : int) : int}}

Возвращает сумму целых чисел \mintinline{icl}{a} и \mintinline{icl}{b}.

\subsubsection{\mintinline{icl}{(a : double) + (b : double) : double}}

Возвращает сумму дробных чисел \mintinline{icl}{a} и \mintinline{icl}{b}.

\subsubsection{\mintinline{icl}{(a : int) - (b : int) : int}}

Возвращает разницу между целыми числами \mintinline{icl}{a} и \mintinline{icl}{b}.

\subsubsection{\mintinline{icl}{(a : double) - (b : double) : double}}

Возвращает разницу между дробными числами \mintinline{icl}{a} и \mintinline{icl}{b}.

\subsubsection{\mintinline{icl}{(a : int) * (b : int) : int}}

Возвращает результат умножения целых чисел \mintinline{icl}{a} и \mintinline{icl}{b}.

\subsubsection{\mintinline{icl}{(a : double) * (b : double) : double}}

Возвращает результат умножения дробных чисел \mintinline{icl}{a} и \mintinline{icl}{b}.

\subsubsection{\mintinline{icl}{(a : int) / (b : int) : int}}

Возвращает результат деления целых чисел \mintinline{icl}{a} и \mintinline{icl}{b}, остаток отбрасывается.

\subsubsection{\mintinline{icl}{(a : double) / (b : double) : double}}

Возвращает результат деления дробных чисел \mintinline{icl}{a} и \mintinline{icl}{b}.

\subsubsection{\mintinline{icl}{(a : int) \ (b : int) : int}}

Возвращает результат от деления целых чисел \mintinline{icl}{a} и \mintinline{icl}{b}.


\subsubsection{\mintinline{icl}{(a : int) ** : int}}

Возвращает квадрат целого числа \mintinline{icl}{a} (a$^2$);

\subsubsection{\mintinline{icl}{(a : double) ** : double}}

Возвращает квадрат дробного числа \mintinline{icl}{a} (a$^2$);

\subsubsection{\mintinline{icl}{(a : int) ** (b : int) : int}}

Возвращает результат возведения целого числа \mintinline{icl}{a} в степени \mintinline{icl}{b} (a$^b$).

\subsubsection{\mintinline{icl}{(a : double) ** (b : double) : double}}

Возвращает результат возведения дробного числа \mintinline{icl}{a} в степени \mintinline{icl}{b} (a$^b$).

\subsubsection{\mintinline{icl}{/' (a : int) : int}}

Возвращает корень целого числа \mintinline{icl}{a} ($\sqrt{a}$).

\subsubsection{\mintinline{icl}{/' (a : double) : double}}

Возвращает корень дробного числа \mintinline{icl}{a} ($\sqrt{a}$).

\subsubsection{\mintinline{icl}{(n : int) /' (a : int) : int}}

Возвращает корень \mintinline{icl}{n}-ой степени из \mintinline{icl}{a} ($\sqrt[n]{a}$).

\subsubsection{\mintinline{icl}{(n : int) /' (a : double) : double}}

Возвращает корень \mintinline{icl}{n}-ой степени из \mintinline{icl}{a} ($\sqrt[n]{a}$).

\subsubsection{\mintinline{icl}{(n : double) /' (a : double) : double}}

Возвращает корень \mintinline{icl}{n}-ой степени из \mintinline{icl}{a} ($\sqrt[n]{a}$).


\subsubsection{\mintinline{icl}{- (a : int) : int}}

Возвращает \mintinline{icl}{0 - a};

\subsubsection{\mintinline{icl}{- (b : double) : double}}

Возвращает \mintinline{icl}{0.0 - a};

\subsubsection{\mintinline{icl}{+ (a : int) : int}}

Возвращает абсолютное значение целого числа \mintinline{icl}{a}.

\subsubsection{\mintinline{icl}{+ (a : double) : double}}

Возвращает абсолютное значение дробного числа \mintinline{icl}{a}.

\subsection{Операций над строками и список строк}

Доступные операции над строками и список строк перечислены в таблице \ref{stringops}.

\stablethree{1.0cm}{6.0cm}{7.0cm}
{stringops}{Операций над строками и списков строк}
{Ранг}{Операция}{Оператор}
{
3     & равно                                    & \mintinline{icl}{string == string : bool}   \\ \hline
3     & равно                                    & \mintinline{icl}{list == list : bool}       \\ \hline
3     & не равно                                 & \mintinline{icl}{string != string : bool}   \\ \hline
3     & не равно                                 & \mintinline{icl}{list != list : bool}       \\ \hline
3     & содержит                                 & \mintinline{icl}{list << string : bool}     \\ \hline
3     & содержит                                 & \mintinline{icl}{string << string : bool}   \\ \hline
3     & не содержит                              & \mintinline{icl}{list !< string : bool}     \\ \hline
3     & не содержит                              & \mintinline{icl}{string !< string : bool}   \\ \hline
3     & содержит строку подходящая по шаблону    & \mintinline{icl}{list <* string : bool}     \\ \hline
3     & не содержит строку подходящая по шаблону & \mintinline{icl}{list !* string : bool}     \\ \hline
4     & конкатенация                             & \mintinline{icl}{string + string : string}  \\ \hline
4     & вставка                                  & \mintinline{icl}{string + list : list}      \\ \hline
4     & вставка                                  & \mintinline{icl}{list + string : list}      \\ \hline
4     & вставка                                  & \mintinline{icl}{list + list : list}        \\ \hline
5     & шаблонное сравнение                      & \mintinline{icl}{string * string : bool}    \\ \hline
5     & шаблонное сравнение                      & \mintinline{icl}{list * string : bool}      \\ \hline
5     & шаблонное сравнение                      & \mintinline{icl}{list * list : bool}        \\ \hline
6$^+$ & эквивалентность                          & \mintinline{icl}{string ** string : double} \\
}

Примеры использование операторов присутствуют на листинге \ref{stringlistopex}.

Чтобы из несколько строк получить список, оператор вставки рекомендуется не использовать, вместо него использовать литерал:
\begin{minted}{icl}
[@str1, @str2, "Const string", func, 37.1 : string, @bool : string, @list.Join]
\end{minted}

\subsubsection{\mintinline{icl}{(s1 : string) == (s2 : string) : bool}}

Возвращает \true{} если \mintinline{icl}{s1} и \mintinline{icl}{s2} имеют одинаковое количество символов и содержат они и те же символы в один и тот же порядок, иначе \false{}.

\subsubsection{\mintinline{icl}{(l1 : list) == (l2 : list) : bool}}

Возвращает \true{} если \mintinline{icl}{l1} и \mintinline{icl}{l2} имеют одинаковое количество строк и содержат они и те же строки (порядок игнорируется), иначе \false{}.

\subsubsection{\mintinline{icl}{(s1 : string) != (s2 : string) : bool}}

Возвращает \false{} если \mintinline{icl}{s1} и \mintinline{icl}{s2} имеют одинаковое количество символов и содержат они и те же символы в один и тот же порядок, иначе \true{}.

\begin{sourcecode}
\captionof{listing}{Примеры использования операторов над данными типа string и list}
\label{stringlistopex}
\begin{minted}[linenos]{icl}
"String1" == "String2";					 `` false
["a", "b"] == ["a", "b"];				 `` true
["a", "b"] == ["b", "a"];				 `` true
["a", "b"] << "c";						 `` false
"abc" << "c";							 `` true
"ab" + "c";								 `` "abc"
"ab" + ["c"];							 `` ["ac", "c"]
["a", "b"] + "c";						 `` ["a", "b", "c"]
["a", "b"] + ["c", "d"];				 `` ["a", "b", "c", "d"]
"abc" * "*c";							 `` true
["ac", "bc"] * "*c";					 `` true
["ac", "bc"] * "a*";					 `` false
["ad", "ac", "bd", "cc"] * ["*d", "*c"]; `` true
["ad", "ac", "bc", "cd"] * ["*d", "*c"]; `` false
"Tom is a cat" ** "Tom is not a cat";	 `` 0.875
\end{minted}
\end{sourcecode}

\subsubsection{\mintinline{icl}{(l1 : list) != (l2 : list) : bool}}

Возвращает \false{} если \mintinline{icl}{l1} и \mintinline{icl}{l2} имеют одинаковое количество строк и содержат они и те же строки (порядок игнорируется), иначе \true{}.

\subsubsection{\mintinline{icl}{(l : list) << (str : string) : bool}}

Возвращает \true{}, если список \mintinline{icl}{l} содержит строку \mintinline{icl}{str}, иначе \false{}.

\subsubsection{\mintinline{icl}{(str : string) << (substr : string) : bool}}

Возвращает \true{}, если строка \mintinline{icl}{str} содержит подстроку \mintinline{icl}{substr}, иначе \false{}.

\subsubsection{\mintinline{icl}{(l : list) !< (str : string) : bool}}

Возвращает \true{}, если список \mintinline{icl}{l} не содержит строку \mintinline{icl}{str}, иначе \false{}.

\subsubsection{\mintinline{icl}{(str : string) !< (substr : string) : bool}}

Возвращает \true{}, если строка \mintinline{icl}{str} не содержит подстроку \mintinline{icl}{substr}, иначе \false{}.

\subsubsection{\mintinline{icl}{(l : list) <* (template : string) : bool}}

Возвращает \true{}, если список \mintinline{icl}{l} содержит хотя бы одна строка, подходящая по шаблону \mintinline{icl}{template}, иначе \false{}.

{\bf Шаблон} - это строка содержащая данные и специальный символ \mintinline{icl}{*}, где \mintinline{icl}{*} означает любая последовательность символов. Рассмотрим шаблонную строку \mintinline{icl}{"Have a * day!"}, примеры строк подходящие по шаблону: \mintinline{icl}{"Have a nice day!"}, \mintinline{icl}{"Have a amazing day!"}. Пример неподходящей строки \mintinline{icl}{"Have a good day"} (отсутствует восклицательный знак).

\subsubsection{\mintinline{icl}{(l : list) !* (template : string) : bool}}

Возвращает \true{}, если список \mintinline{icl}{l} не содержит хотя бы одна строка, подходящая по шаблону \mintinline{icl}{template}, иначе \false{}.

\subsubsection{\mintinline{icl}{(s1 : string) + (s2 : string) : string}}

Возвращает строку содержащую все символы строк \mintinline{icl}{s1} и \mintinline{icl}{s2}. Полученная строка имеет длину равна суммы длин составляющих.

\subsubsection{\mintinline{icl}{(str : string) + (l : list) : list}}

Возвращает новый список, получен при вставке строке \mintinline{icl}{str} в начале списка \mintinline{icl}{l}.

\subsubsection{\mintinline{icl}{(l : list) + (str : string) : list}}

Возвращает новый список, получен при вставке строке \mintinline{icl}{str} в конце списка \mintinline{icl}{l}.

\subsubsection{\mintinline{icl}{(l1 : list) + (l2 : list) : list}}

Возвращает новый список, содержащий все элементы списков \mintinline{icl}{l1} и \mintinline{icl}{l2}.

\subsubsection{\mintinline{icl}{(str : string) * (template : string) : bool}}

Возвращает \true{}, если строка \mintinline{icl}{str} подходит по шаблону \mintinline{icl}{template}, иначе \false{}.

\subsubsection{\mintinline{icl}{(l : list) * (template : string) : bool}}

Возвращает \true{} если все строки списка \mintinline{icl}{l} подходят по шаблону \mintinline{icl}{template}, иначе \false{}.

\subsubsection{\mintinline{icl}{(l : list) * (templates : list) : bool}}

Возвращает \true{} если все строки списка \mintinline{icl}{l} подходят по соответственному шаблону из списка \mintinline{icl}{templates}, иначе \false{}.

\subsubsection{\mintinline{icl}{(s1 : string) ** (s2 : string) : double}}

Возвращает коэффициент эквивалентности получен при сравнении \mintinline{icl}{s1} с \mintinline{icl}{s2}.

{\bf Эквивалентность} - уровень схожести строк. \mintinline{icl}{"Hi! Robert, how do you do?"} относительно \mintinline{icl}{"Robert! Hi! How do you do?"} имеет эквивалентность равна единицы. Так как они состоят из одни и те же слова. Но если сравнивать с  \mintinline{icl}{"Rich! Hi! How are you?"} оценка снижается до 0,64.

\subsubsection{\mintinline{icl}{(l1 : list) ** (l2 : list) : double}}

Возвращает коэффициент эквивалентности получен при сравнении строк из списка \mintinline{icl}{l1} со строками из списка \mintinline{icl}{l2}.
Для корректности вычисления, каждая строка должна содержать одно слово.

\subsection{Операции над объектами и множеств}

Доступные операции над объектами и множеств перечислены в таблице \ref{objectops}.

\stablethree{1.0cm}{7.0cm}{6.0cm}
{objectops}{Операции над объектами и множеств}
{Ранг}{Операция}{Оператор}
{
3     & равно                   & \mintinline{icl}{object == object : bool} \\ \hline
3     & равно                   & \mintinline{icl}{set == set : bool}       \\ \hline
3     & не равно                & \mintinline{icl}{object != object : bool} \\ \hline
3     & не равно                & \mintinline{icl}{set != set : bool}       \\ \hline
3     & включение               & \mintinline{icl}{set << object : bool}    \\ \hline
3     & включение               & \mintinline{icl}{set << set : bool}       \\ \hline
3     & исключение              & \mintinline{icl}{set !< object : bool}    \\ \hline
3     & исключение              & \mintinline{icl}{set !< set : bool}       \\ \hline
3     & включение шаблона       & \mintinline{icl}{set <* object : bool}    \\ \hline
3     & включение шаблона       & \mintinline{icl}{object <* object : bool} \\ \hline
3     & исключение шаблона      & \mintinline{icl}{set !* object : bool}    \\ \hline
3     & исключение шаблона      & \mintinline{icl}{object !* object : bool} \\ \hline
4     & объединение             & \mintinline{icl}{set + set : set}         \\ \hline
4     & симметрическая разность & \mintinline{icl}{set -   set : set}       \\ \hline
5     & разность                & \mintinline{icl}{set \\ set : set}         \\ \hline
5     & пересечение             & \mintinline{icl}{set * set : set}         \\ \hline
6$^+$ & присутствия пересечений & \mintinline{icl}{set ** set : bool}       \\
}

Примеры использование операторов присутствуют на листинге \ref{setobjopex}.

\subsubsection{\mintinline{icl}{(obj1 : object) == (obj2 : object) : bool}}

Возвращает \true{} если \mintinline{icl}{obj1} и \mintinline{icl}{obj2} имеют одни и те же поля, значения полях из первого объекта совпадает с значениям одноимённых полях второго объекта, иначе \false{}.

\begin{sourcecode}
\captionof{listing}{Примеры использования операторов над данными типа object и set}
\label{setobjopex}
\begin{minted}[linenos]{icl}
`` init
@set1 = [age : int, name : string];
@set2 = [age : int, name : string];
@set3 = [age : int, name : string];

@obj1 = [age = 24, name = "User1"];
@obj2 = [age = 23, name = "User2"];
@obj3 = [age = 26, name = "User3"];
@obj4 = [age = 24, length = 80, height = 40, arc = 1];

@set1.insert @obj1;
@set1.insert @obj2;
@set2.insert @obj3;
@set2.insert @obj2;
@set3.insert @obj2;
@set3.insert @obj1;

`` operators
@set1 == @set2;					`` false
@set1 == @set3;					`` true
@obj1 == @obj2;					`` false
@set2 != @set3;					`` true
@obj2 != @obj3;					`` true

@set1 << @obj2;					`` false
@set1 << @set2;					`` false
@set1 <* [age = 23];			`` true
@obj4 <* [age = 24, arc = 1];	`` true

@set1 + @set2;					`` [@obj1 @obj2 @obj3]
@set1 - @set2;					`` [@obj1 @obj3]
@set1 \ @set2;					`` [@obj1]
@set1 * @set2;					`` [@obj2]

@set1 ** @set2;					`` true
\end{minted}
\end{sourcecode}

\subsubsection{\mintinline{icl}{(set1 : set) == (set2 : set) : bool}}

Возвращает \true{} если \mintinline{icl}{set1} и \mintinline{icl}{set2} имеют один и тоже заголовок, всё объекты из первой множестве приличествуют во вторым и наоборот, иначе \false{}.

\subsubsection{\mintinline{icl}{(obj1 : object) != (obj2 : object) : bool}}

Возвращает \true{} если один из объектов имеет поле, отсутствующее в другом или значения поле первого отличается от значении одноимённой поле второго объекта, иначе \false{}.

\subsubsection{\mintinline{icl}{(set1 : set) != (set2 : set) : bool}}

Возвращает \true{} если количество объектов во втором объекте отличается от количества объектов в первом или существует объект присутствующий только в одной множестве, иначе \false{}.

\subsubsection{\mintinline{icl}{(s : set) << (obj : object) : bool}}

Возвращает \true{}, если множество \mintinline{icl}{s} содержит объект \mintinline{icl}{obj}, иначе \false{}.

\subsubsection{\mintinline{icl}{(set1 : set) << (set2 : set) : bool}}

Возвращает \true, если множество \mintinline{icl}{set1} содержит подмножество \mintinline{icl}{set2}, иначе \false.

\subsubsection{\mintinline{icl}{(s : set) !< (obj : object) : bool}}

Возвращает \true{}, если множество \mintinline{icl}{s} не содержит объект \mintinline{icl}{obj}, иначе \false{}.

\subsubsection{\mintinline{icl}{(set1 : set) !< (set2 : set) : bool}}

Возвращает \true, если множество \mintinline{icl}{set1} не содержит подмножество \mintinline{icl}{set2}, иначе \false.

\subsubsection{\mintinline{icl}{(s : set) <* (subobj : object) : bool}}

Возвращает \true{}, если множество \mintinline{icl}{s} содержит под объект \mintinline{icl}{subobj}, иначе \false{}.

\subsubsection{\mintinline{icl}{(obj : object) <* (subobj : object) : bool}}

Возвращает \true{} если каждое поле объекта \mintinline{icl}{subobj} содержится в объекте \mintinline{icl}{obj} и значение одноимённых полях совпадает, иначе \false{}.

\subsubsection{\mintinline{icl}{(s : set) !* (subobj : object) : bool}}

Возвращает \true{}, если множество \mintinline{icl}{s} не содержит под объект \mintinline{icl}{subobj}, иначе \false{}.

\subsubsection{\mintinline{icl}{(obj : object) !* (subobj : object) : bool}}

Возвращает \false{} если каждое поле объекта \mintinline{icl}{subobj} содержится в объекте \mintinline{icl}{obj} и значение одноимённых полях совпадает, иначе \true{}.

\subsubsection{\mintinline{icl}{(set1 : set) + (set2 : set) : set}}

Возвращает новое множество содержащая все объекты множеств \mintinline{icl}{set1} и \mintinline{icl}{set2}.

\subsubsection{\mintinline{icl}{(set1 : set) - (set2 : set) : set}}

Возвращает новое множество содержащая все объекты множества \mintinline{icl}{set1}, отсутствующих в множестве \mintinline{icl}{set2}, и все объекты множестве \mintinline{icl}{set2}, отсутствующих в \mintinline{icl}{set1}.

\subsubsection{\mintinline{icl}{(set1 : set) \\ (set2 : set) : set}}

Возвращает новое множество содержащая все объекты множества \mintinline{icl}{set1}, отсутствующих в множестве \mintinline{icl}{set2}.

\subsubsection{\mintinline{icl}{(set1 : set) * (set2 : set) : set}}

Возвращает новое множество содержащая все объекты , которые приличествуют в \mintinline{icl}{set1} и \mintinline{icl}{set2}.

\subsubsection{\mintinline{icl}{(set1 : set) ** (set2 : set) : bool}}

Возвращает \true, если множества \mintinline{icl}{set1} и \mintinline{icl}{set2} пересекаются, иначе \false.

\subsection{Оператор объединения данных}

{\bf Квадратные скобки} или {\bf оператор объединения данных} позволяет создавать объекты следующих типов данных \listtype{}, \set{} и \object{}.

\mintinline{icl}{[] : list} создаёт пустой список.

\mintinline{icl}{[string ...] : list} создаёт заполненный список, он может содержать как константные литеры, так и вызовы на функций возвращающие строки. Пример: \mintinline{icl}{["a", "b", "c"]}.

\mintinline{icl}{[list ...] : list} объединяет несколько списков в один.

\mintinline{icl}{[string or list ...] : list} - строки и списки можно смешать.

\mintinline{icl}{[arg ...] : object} создаёт объект имеющие поля (каждое поле описывается в виде аргумента), аргумент описывается следующим образом \mintinline{icl}{name = value}, где \mintinline{icl}{value} - значение, \mintinline{icl}{name} - название аргумента. Пример \mintinline{icl}{[number = 2, str = "str"]}.

\mintinline{icl}{[param ...] : set} создаёт множество с указанным заголовкам, каждый столбец описывается в виде параметра, параметр описывается следующим образом \mintinline{icl}{name : type}, где \mintinline{icl}{type} - тип значения, \mintinline{icl}{name} - название параметра. Пример \mintinline{icl}{[number : int, str : string]}.

\mintinline{icl}{[object ...] : set} создаёт множество из несколько объектов.

\mintinline{icl}{[set ...] : set} объединяет несколько множеств в одной.

\mintinline{icl}{[object or set ...] : set} объекты и множества также можно смешать.

%\newpage
