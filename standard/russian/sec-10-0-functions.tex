% !TeX spellcheck = ru_RU
\section{Функции}

{\bf Функции} в icL позволяют повторное использовать код, и структурировать код. Все функций в icL — глобальные. Функция отличается от метода тем что она является пользовательской составляющей, т.е. функции определяются пользователем, когда методы предопределены.

\subsubsection{Определение функции}

{\bf Определение функции} состоит из заголовка и тела функции.

\noindent Синтаксис —
\begin{minted}{icl}
название = (параметры) : типРезультата {
	команды
}
\end{minted}

Описание всех частей функции:
\begin{icItems}
\item
	\mintinline{icl}{название} — {\bf название функции};
\item
	\mintinline{icl}{параметры} — {\bf список параметров}. Когда функция вызывается вы передаёте значения параметру. Список параметров определяет тип, количество и порядок параметров. Список параметров необязателен (см. листинги \ref{fullfunc} и \ref{noargsfunc});
\item
	\mintinline{icl}{типРезультата} — {\bf тип данных которых} функция будет возвращать. Если функция ничего не возвращает тип данных можно пропустить или указать явно \void{}. Чтобы возвращать значение используется команда \mintinline{icl}{@ = значение} или \mintinline{icl}{Stack.return значение} (см. листинги \ref{fullfunc}, \ref{notypefunc} и \ref{minfunc});
\item
	\mintinline{icl}{команды} — {\bf тело функции} содержит команды, которые определяют что делает функция.
\end{icItems}

Между параметрами ставится разделитель - запятая. Даже если параметр только один, скобки нельзя пропускать.

Параметр описывается следующим синтаксисом \mintinline{icl}{@название : type}, где \mintinline{icl}{type} — тип данных. Можно указать только тип данных (без двоеточия), в этом случае название параметра будет название типа данных.

Параметр имеющий значение по умолчанию описывается следующим способом \mintinline{icl}{@название = значениеПоУмолчанию}, значение по умолчанию может быть константном литералом, переменной или выражений. Значения будут вычислены один раз — про объявлений функций. Значение по умолчанию могут иметь любые параметры, не только последнее.

\begin{sourcecode}
	\captionof{listing}{Полноценная функция}
	\label{fullfunc}
	\inputminted[linenos]{icl}{../sources/fullfunc.icL}
\end{sourcecode}

\begin{sourcecode}
	\captionof{listing}{Функция без аргументов}
	\label{noargsfunc}
	\inputminted[linenos]{icl}{../sources/noargsfunc.icL}
\end{sourcecode}

\begin{sourcecode}
	\captionof{listing}{Функция без типа возвращаемой значений}
	\label{notypefunc}
	\inputminted[linenos]{icl}{../sources/notypefunc.icL}
\end{sourcecode}

\begin{sourcecode}
	\captionof{listing}{Функция без аргументов и тип возвращаемой значений}
	\label{minfunc}
	\inputminted[linenos]{icl}{../sources/minfunc.icL}
\end{sourcecode}

\subsubsection{Вызов функции}

Вы можете вызвать функцию следующим образом -
\begin{minted}{icl}
название (аргументы);
\end{minted}
где \mintinline{icl}{название} — {\bf название функции}, \mintinline{icl}{аргументы} — {\bf список аргументов} (он должен быть совместим со списком параметров функции). Как вызвать функций, объявленные на листингов \ref{fullfunc} - \ref{minfunc}, показано на листинге \ref{callfunc}. 

\begin{sourcecode}
	\captionof{listing}{Вызов функций}
	\label{callfunc}
	\inputminted[linenos]{icl}{../sources/callfunc.icL}
\end{sourcecode}

Последнее параметры имеющие значение по умолчанию могут быть пропущены, для остальных при желаниях использовать значение по умолчанию нужно передать \void{} значение, её можно описать одним символом тильда (\mintinline{icl}{~}). Например функция \mintinline{icl}{func = (@var1 = 3, @var2 : int) {}}, можно вызвать следующим образом \mintinline{icl}{fun (~, 3)}. Значения по умолчанию могут сократить код, см. листинг \ref{defaultparametrs}.

\begin{sourcecode}
	\captionof{listing}{Значения по умольчанию}
	\label{defaultparametrs}
	\inputminted[linenos]{icl}{../sources/defaultparametrs.icL}
\end{sourcecode}

Функций имеющие всего 1 обязательным параметром, можно вызвать используя акроним \mintinline{icl}{название аргумент} или \mintinline{icl}{название (аргумент)}. Положение обязательного параметра не имеет значение (в начале, в середине или в конце списка параметров).
