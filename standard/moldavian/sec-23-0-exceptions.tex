\section{Обработка исключений}

Все ошибки в icL имеют название и описание. Что бы выводить в консоль название и описание текущей ошибке, достаточно вызвать \lstinline|_log.error ""|. Возможные исключения при вызове разных функций и методов в данном стандарте указаны в конце описания. Что зарегистрировать пользовательскую исключение используете \lstinline|_signal.add <string>name|.

\subsection{Генератор сигналов}

Код, который может генерировать сигнал об исключений называется эмиттер. И имеет следующий синтаксис \lstinline|emiter {```code```}|. Генерированный сигнал улавливает коллектор. Также коллекторов может быть несколько. Они имеют следующий синтаксис \lstinline|slot:exception {```code```}|,
где \code{exception} - имя исключений, чтобы поймать все исключения можно использовать \lstinline|slot:Any|. Пример кода использующий эмиттер и коллектор представлен на листинге \ref{sighandling}.

Для генерации собственных сигналов используется команда \lstinline|emit:exception <string>description|, где \code{exception} - имя исключений, а \code{description} - её описание.

Чтобы глушить все сигналы об ошибках используется подавитель сигналов, он имеет синтаксис \lstinline|jammer {```code```}|. Сигналы об схематических и синтаксических ошибках, а также сигнал \lstinline|emit:Exit|, не могут быть остановлены подавителем.

\begin{lstlisting}[caption=Обработка инключении, label=sighandling]
_signal.add "NumberTooBig";
_signal.add "NumberTooSmall";

@i = 3;

emiter {
	if (@i < 2) {
		emit:NumberTooSmall (@i:string) + " is smaller then 2.";
	}
	
	if (@i > 5) {
		emit:NumberTooBig (@i:string) + " is bigger then 5."
	}

	`` @i >= 2 \& @i <= 5
}
slot:NumberTooBig {
	_log.error "Oooops...";
}
slot:NumberTooSmall {
	_log.error "Nope! O_O";
};
\end{lstlisting}

\subsection{Предопределённые исключения}

Набор {\bf предопределённых исключения} представлен в таблице \ref{errors}. В данном документе, при описаниях возможностях, представлены списки исключениях которые возможно будут сгенерированы при использовании конкретной возможности. Исключения могут появиться в результате неправильных входных данных, а также при невозможности использовании возможности в текущем состоянии программы. Сигнал \ferror{Exit} генерируется только пользователем, при необходимости открыть программу немедленно.

\ 

\tabletwo{5cm}{12.1cm}{errors}{Стандартные исключения}%
{Класс}{Описание}%
{
	\ferror{Exit}                    & Немедленная остановка программы.                 \\ \hline
	
	\ferror{NoSessions}              & Ни одна сессия не существует.                    \\ \hline
	\ferror{NoSuchWindow}            & Нужное одно закрыта.                             \\ \hline
	\ferror{NoSuchElement}           & Нужный элемент не найден.                        \\ \hline
	\ferror{NoSuchFrame}             & Нет такого frame.                                \\ \hline
	\ferror{NoSuchCookie}            & Нет такого cookie.                               \\ \hline
	\ferror{NoSuchAlert}             & Предупреждение отсутствует.                      \\ \hline
	\ferror{NoSuchTab}               & Вкладка уже закрыта.                             \\ \hline
	\ferror{StaleElementReference}   & Ссылка на элемент недействительна.               \\ \hline
	\ferror{FolderNotFound}          & Папка не найдено.                                \\ \hline
	\ferror{FileNotFound}            & Файл не найден.                                  \\ \hline
	\ferror{FieldNotFound}           & Поле не найдено.                                 \\ \hline
	\ferror{FieldAlreadyExists}      & Поле уже существует.                             \\ \hline
	\ferror{OutOfBounds}             & Выход за пределы коллекции.                      \\ \hline
	\ferror{UnsupportedOperation}    & Операция не поддерживается веб-драйвером.        \\ \hline
	
	\ferror{EmptyString}             & Пустая строка.                                   \\ \hline
	\ferror{EmptyList}               & Пустой список.                                   \\ \hline
	\ferror{MultiList}               & Список содержит несколько строк.                 \\ \hline
	\ferror{EmptyElement}            & Пустой/пустая элемент/коллекция.                 \\ \hline
	\ferror{MultiElement}            & Коллекция содержит несколько элементов.          \\ \hline
	\ferror{EmptySet}                & Пустое множество.                                \\ \hline
	\ferror{MultiSet}                & Множество содержит несколько объектов.           \\ \hline
	
	\ferror{InvalidArgument}         & Неправильный аргумент.                           \\ \hline
	\ferror{InvalidSelector}         & Неправильный селектор.                           \\ \hline
	\ferror{InvalidElementState}     & Состояние элемента неудовлетворительна.          \\ \hline
	\ferror{InvalidElement}          & Элемент не подходит данной операции.             \\ \hline
	\ferror{IncompatibleRoot}        & Неподходящий корень строки JSON.                 \\ \hline
	\ferror{IncompatibleData}        & Неподходящие данные.                             \\ \hline
	\ferror{IncompatibleObject}      & Неподходящий объект.                             \\ \hline
	\ferror{InvalidSessionId}        & Сессия уже закрыта.                              \\ \hline
	\ferror{InvalidCookieDomain}     & Неподходящий домен для cookie.                   \\ \hline
	\ferror{InsecureCertificate}     & Небезопасный сертификат.                         \\ \hline
	\ferror{UnexpectedAlertOpen}     & Неожиданное предупреждение.                      \\ \hline
	
	\ferror{UnrealCast}              & Невозможное преобразование.                      \\ \hline
	\ferror{ParsingFailed}           & Парсинг не удался.                               \\ \hline
	\ferror{WrongDelimiter}          & Неправильный разделитель.                        \\ \hline
	\ferror{ComplexField}            & Невозможное преобразование данных из JSON в icL. \\ \hline
	\ferror{ElementNotInteractable}  & Элемент не интерактивный.                        \\ \hline
	\ferror{ElementClickIntercepted} & Другой элемент мешает сделать клик.              \\ \hline
	\ferror{MoveTargetOutOfBounds}   & Координаты мышки вне экрана.                     \\ \hline
	\ferror{UnableToSetCookie}       & Нельзя установить cookie.                        \\ \hline
	\ferror{UnableToCaptureScreen}   & Нельзя захватить экран.                          \\ \hline
	\ferror{JavascriptError}         & Ошибка выполнения кода на языке Javascript.      \\ \hline
	\ferror{ScriptTimeout}           & Время выполнения скрипта истекло.                \\ \hline
	\ferror{Timeout}                 & Время истекло.                                   \\ \hline
	\ferror{SessionNotCreated}       & Нельзя создать сессию.                           \\ \hline
	
	\ferror{UnknownCommand}          & \code{[w3c]} Неизвестная команда.                \\ \hline
	\ferror{UnknownError}            & \code{[w3c]} Неизвестная ошибка.                 \\ \hline
	\ferror{UnknownMethod}           & \code{[w3c]} Неизвестный метод HTTP.             \\
}

%\newpage
