% !TeX spellcheck = ro_RO
\section{Interacționări adiționale}

Aceste posibilități sunt disponibile numai în regim de automatizare.

\subsection{Așteptare}

Pentru așteptare se propun următoarele funcții:
\begin{icItems}
	\item \mintinline{icl}{wait { condition }};
	\item \mintinline{icl}{wait:Xs { condition }};
	\item \mintinline{icl}{wait:Xms { condition }};
	\item \mintinline{icl}{wait:ajax { condition }}.
\end{icItems}

\subsubsection{\mintinline{icl}{wait}}

Așteaptă pînă cînd condiția va returna \true. Timpul de așteptare: \mintinline{icl}{Session}\\*\mintinline{icl}{'implicitTimeout} milisecunde. 

\subsubsection{\mintinline{icl}{wait:Xs}}

Așteaptă pînă cînd condiția va returna \true. Timpul de așteptare: \mintinline{icl}{X} secunde. 

\subsubsection{\mintinline{icl}{wait:Xms}}

Așteaptă pînă cînd condiția va returna \true. Timpul de așteptare: \mintinline{icl}{X} milisecunde. 

\subsubsection{\mintinline{icl}{wait:ajax}}

Așteaptă pînă cînd condiția va returna \true. Timpul de așteptare: \mintinline{icl}{Session}\\*\mintinline{icl}{'implicitTimeout} milisecunde. În comparație cu \mintinline{icl}{wait}-ul obișnuit, aici vor fi transmise următoarele date: \mintinline{icl}{@response} - datele răspunsului serverului și \mintinline{icl}{@count} - numărul de request-uri active.

\subsection{Claviatură}

Pentru a lucra cu claviatura se propun următoarele funcții:
\begin{icItems}
	\item \mintinline{icl}{element.keyDown (modifiers : int, key : string) : element};
	\item \mintinline{icl}{element.keyUp (modifiers : int, key : string) : element};
	\item \mintinline{icl}{element.keyPress (modifiers : int, delay : int, keys : string) : element};
	\item \mintinline{icl}{element.fastType (text : string) : element};
	\item \mintinline{icl}{element.paste (text : string) : element}.
	\item \mintinline{icl}{element.forceType (text : string) : element}.
	\item \mintinline{icl}{Doc.type (text : string) : Doc}.
\end{icItems}

\subsubsection{\mintinline{icl}{element.keyDown (modifiers : int, keys : text) : element}}

Simulează apăsarea butonului.

\subsubsection{\mintinline{icl}{element.keyUp (modifiers : int, <text>) : element}}

Simulează eliberarea butonului.

\subsubsection{\mintinline{icl}{element.keyPress (modifiers : int, delay : int, keys : string) : element}}

Simulează procesul de culegere a textului cu intervalul \mintinline{icl}{delay}.

\subsubsection{\mintinline{icl}{element.fastType (text : string) : element}}

Simulează procesul de culegere a textului pe claviatură cu viteză maximală.

\subsubsection{\mintinline{icl}{element.paste (text : string) : element}}

Copiază textul în clipboard, 

\subsubsection{\mintinline{icl}{element.forceType (text : string) : element}}

Adăugă valoare prin JavaScript.

\subsubsection{\mintinline{icl}{Doc.type (text : string) : element}}

Simulează procesul de culegere al textului fără a schimba focosul.

\subsection{Mouse}
\label{mouse}

Pentru a lucra cu mouse-ul se propun următoarele funcții:
\begin{icItems}
	\item \mintinline{icl}{element.click (data : object) : element};
	\item \mintinline{icl}{element.forceClick (data : object) : element};
	\item \mintinline{icl}{element.mouseDown (data : object) : element};
	\item \mintinline{icl}{element.mouseUp (data : object) : element};
	\item \mintinline{icl}{element.hover (data : object) : element}.
	\item \mintinline{icl}{Doc.click (data : object) : Doc}.
	\item \mintinline{icl}{Doc.mouseDown (data : object) : Doc};
	\item \mintinline{icl}{Doc.mouseUp (data : object) : Doc};
	\item \mintinline{icl}{Doc.hover (data : object) : Doc}.
\end{icItems}

În aceste funcții obiectul \mintinline{icl}{data} poate avea următoarele cîmpuri:
\begin{icItems}
    \item \mintinline{icl}{[r/w] @data'button : int} - butonul mouse-lui (una din următoarele valori):
	\begin{icItems}
	    \item \mintinline{icl}{[r/o] Mouse'left : 1} - butonul stîng;
		\item \mintinline{icl}{[r/o] Mouse'middle : 2} - butonul mijlociu;
		\item \mintinline{icl}{[r/o] Mouse'right : 3} - butonul drept.
	\end{icItems}
	Implicit \mintinline{icl}{Mouse'left};
	\item \mintinline{icl}{[r/w] @data'rx : double} - \mintinline{icl}{ax = rx * width};
	\item \mintinline{icl}{[r/w] @data'ry : double} - \mintinline{icl}{ay = rx * height};
	\item \mintinline{icl}{[r/w] @data'ax : int} - coordonata x relativă la marginea stîngă a elementului;
	\item \mintinline{icl}{[r/w] @data'ay : int} - coordonata y relativă la marginea de sus a elementului.
\end{icItems}

\subsubsection{\mintinline{icl}{element.click (data : object) : element}}

Simulează un clic. Obiectul \mintinline{icl}{data} deține următoarele proprietăți adiționale
\begin{icItems}
	\item \mintinline{icl}{[r/w] @data'delay : int} e intervalul între apăsarea și eliberarea butonului;
	\item \mintinline{icl}{[r/w] @data'count : int} e numărul de clicuri consecutive simulate.
\end{icItems}

\subsubsection{\mintinline{icl}{element.forceClick (data : object) : element}}

Simulează un click fără a controla dacă elementul este disponibil.

\subsubsection{\mintinline{icl}{element.mouseDown (data : object) : element}}

Simulează apăsarea butonului mouse-ului.

\subsubsection{\mintinline{icl}{element.mouseUp (data : object) : element}}

Simulează eliberarea butonului mouse-ului.

\subsubsection{\mintinline{icl}{element.hover (data : object) : element}}

Mută mouse-ul deasupra elementului. \mintinline{icl}{data} are următoarele proprietăți adiționale:
\begin{icItems}
	\item \mintinline{icl}{[r/w] @data'time : int} e timpul mediu în care cursorul se mută la distanța de 100 de pixeli;
	\item \mintinline{icl}{[r/w] @data'func : int} e funcția care descrie mișcarea cursorului. Primește una din următoarele valori:
	\begin{icItems}
		\item \mintinline{icl}{[r/o] Move'teleport : 1} e mișcare simultană;
		\item \mintinline{icl}{[r/o] Move'linear : 2} e mișcare pe linie dreaptă;
		\item \mintinline{icl}{[r/o] Move'quadratic : 3} e mișcare pe curbă de ordinul 2;
		\item \mintinline{icl}{[r/o] Move'cubic : 4} e mișcare pe curbă de ordinul 3;
		\item \mintinline{icl}{[r/o] Move'bezier : 5} e mișcare pe curba Bezie de ordinul 3. Folosește următoarele proprietăți adiționale \mintinline{icl}{p1x}, \mintinline{icl}{p1y}, \mintinline{icl}{p2x} și \mintinline{icl}{p2y}. Dacă ele nu sunt indicate vor primi valori aleatorii din intervalul [0,0; 1,0].
	\end{icItems}
	Implicit \mintinline{icl}{Move'teleport}.
	\item \mintinline{icl}{[r/w] @data'p1x : double} - Coordinata $x$ primului punct.
	\item \mintinline{icl}{[r/w] @data'p1y : double} - Coordinata $y$ primului punct.
	\item \mintinline{icl}{[r/w] @data'p2x : double} - Coordinata $x$ punctului secundar.
	\item \mintinline{icl}{[r/w] @data'p2y : double} - Coordinata $y$ punctului secundar.
\end{icItems}

\subsubsection{\mintinline{icl}{Doc.click (data : object) : Doc}}

Simulează un click pe document.

\subsubsection{\mintinline{icl}{Doc.mouseDown (data : object) : Doc}}

Simulează apăsarea butonului mouse-ului pe document.

\subsubsection{\mintinline{icl}{Doc.mouseUp (data : object) : Doc}}

Simulează eliberarea butonului mouse-ului pe document.

\subsubsection{\mintinline{icl}{Doc.hover (data : object) : Doc}}

Simulează mutarea mouse-ului pe document.

\subsection{Setarea detaliilor}

Pot fi setați următorii parametri:
\begin{icItems}
	\item \mintinline{icl}{[r/w] icL'clickTime : int};
	\item \mintinline{icl}{[r/w] icL'pressTime : int};
	\item \mintinline{icl}{[r/w] icL'moveTime : int};
	\item \mintinline{icl}{[r/w] icL'flashMode : bool};
	\item \mintinline{icl}{[r/w] icL'humanMode : bool}.
\end{icItems}

\subsubsection{\mintinline{icl}{icL'clickTime : int}}

Intervalul clicului, implicit 300.

\subsubsection{\mintinline{icl}{icL'pressTime : int}}

Intervalul apăsării butonului pe claviatură, implicit 60.

\subsubsection{\mintinline{icl}{icL'moveTime : int}}

Timpul mediu în milisecunde în care cursorul se mută la distanța de 100 de pixeli, implicit 32.

\subsubsection{\mintinline{icl}{icL'flashMode : bool}}

Regim "Flash", toate operațiile vor fi executate maximum de rapid. Anulează \mintinline{icl}{icL'humanMode}. Implicit închis. \mintinline{icl}{element.sendKeys} și \mintinline{icl}{element.fastType} vor lucra la fel de rapid ca \mintinline{icl}{element.paste}, schimbarea conținutului clipboard-ului poate încurca la experiența de utilizare a calculatorului.

\subsubsection{\mintinline{icl}{icL'humanMode : bool}}

Regim "Om", toate operațiile for fi executate încet, cît mai asemănător cu comportarea omului. Anulează \mintinline{icl}{icL'flashMode}. Pe ecran va fi adăugat cursor, care va arăta poziția curentă a cursorului virtual. Implicit acest regim este închis.

%\newpage
