% !TeX spellcheck = ro_RO
\section{Variabile}

\textbf{Variabila} este o pereche "nume" - "valoare". Fiecare variabilă în icL are domeniu de vizibilitate (fragment de cod unde ea poate fi folosită) și tip, care hotărăște metoda de distribuire a memoriei și domeniul de valori.

Numele variabilei este identificator, care se începe cu \mintinline{icl}{@} sau {\color{blue2}\mintinline{icl}{#}}. 

\subsection{Definire și inițializare a variabilelor}

\textbf{Definirea și inițializarea} se realizează prin definirea perechilor "nume" - "valoare", numele de valoare se desparte prin semnul \mintinline{icl}{=} și are următoarea sintaxă \mintinline{icl}{var = value}, unde \mintinline{icl}{var} este numele, iar \mintinline{icl}{value} e valoarea.

Pe foaia \ref{initexample} sunt demonstrate cîteva exemple de declarare și inițializare. Atrageți atenția la aceea că numerele reale se scriu prin punct (.), nu prin virgulă (,), așa cum este primit în Europa și Republica Moldova.

\begin{sourcecode}
    \captionof{listing}{Exemplu de declarare și inițializare al variabilelor}
    \label{initexample}
    \inputminted[linenos]{icl}{../sources/initexample.icL}
\end{sourcecode}

\subsection{Variabile locale}

\textbf{Variabilele locale} au un domeniu îngust de vizibilitate, limitat de acoladele care le înconjoară și numai după declarare.

{\bf Identificatorii} variabilelor locale se încep cu simbolul \mintinline{icl}{@}.

Pe foaia \ref{localvars} se demonstrează domeniul de vizibilitate al variabilei \mintinline{icl}{@var}, în punctele de declarare al variabilelor \mintinline{icl}{@test1}, \mintinline{icl}{@test2} și \mintinline{icl}{@test6} ea nu este vizibilă, dar în punctele de declarare ale variabilelor \mintinline{icl}{@test3}, \mintinline{icl}{@test4} și \mintinline{icl}{@test5} - da.

\subsection{Variabile globale}

\textbf{Variabilele globale} au cel mai larg domeniu de vizibilitate, ele sunt vizibile în orice punct al programei după declarare. Nu se recomandă a folosi variabile globale, pentru că ele pot să provoace erori serioase.

{\bf Identificatorii} variabilelor globale se încep cu caracterul {\color{blue2}\mintinline{icl}{#}}. Mai multe variabile locale pot avea același nume, dar variabilele globale au nume unic, care nu poate fi repetat.

\begin{sourcecode}
    \captionof{listing}{Domeniul de vizibilitate al variabilei locale}
    \label{localvars}
    \inputminted[linenos]{icl}{../sources/localvars.icL}
\end{sourcecode}

Pe foaia \ref{globalvars}, este demonstrat domeniul de vizibilitate al variabilei \mintinline{icl}{@var}, ea nu este vizibilă în punctele de declarare ale variabilelor \mintinline{icl}{@test1}, \mintinline{icl}{@test2} și \mintinline{icl}{@test3}, dar este vizibilă în punctele de declarare ale variabilelor \mintinline{icl}{@test4}, \mintinline{icl}{@test5} și \mintinline{icl}{@test6}.

\subsection{Valori de stînga și dreapta în icL}

În icL sunt 3 tipuri de valori:

\begin{icEnum}
\item
	valori de stînga ({\it lvalue}) - variabile;
\item
	valori de dreapta ({\it rvalue}) - variabile și constante;
\item
	valori javascript ({\it jsvalue}) - vor fi descrise mai tîrziu.
\end{icEnum}

Valorile de stînga se pot afla în ambele părți ale operație {\it de atribuire}, dar valorile de dreapta - numai în partea dreaptă. Exemple de folosire corectă și incorectă sunt demonstrate pe foaia \ref{rlvalues};

\subsection{Valori împachetate}

{\bf Valorile împachetate} se folosesc în operatori speciali. Pentru a împacheta valori e destul de a le izola în paranteze rotunde și despărți prin virgulă. Cel mai simplu exemplu de folosire a valorilor împachetate este schimbul de valori între variabile - \mintinline{icl}{(@a, @b) = (@b.ensureRValue, @a.ensureRValue)}. Pentru că valoare este legată de variabilă, valorile trebuie convertite în valori de dreapta.

\subsection{Variabilele @ și \#}

{Variabila @} este un acronim pentru @stack și Stack'stack. Variabilă de sistem care permite a importa/exporta valori în/din stivă. 

{Variabila \#} este un acronim pentru @console, rezultatul comenzii este salvat în această variabilă, apoi printat în consolă sau transmis comenzii următoare.


\begin{sourcecode}
    \captionof{listing}{Domeniu de vizibilitate al variabilei globale}
    \label{globalvars}
    \inputminted[linenos]{icl}{../sources/globalvars.icL}
\end{sourcecode}

\begin{sourcecode}
    \captionof{listing}{Valori de stînga și dreapta}
    \label{rlvalues}
    \inputminted[linenos]{icl}{../sources/rlvalues.icL}
\end{sourcecode}

\subsection{Concluzii}

{\bf Operarea cu variabile în icL} este foarte simplă, dar utilizatorilor avansați fără cunoștințe în programare nu se recomandă de folosit variabile globale. Pentru descrierea scenariilor de complexitate medie și joasă pot fi folosite doar variabile locale.
